function historyPush(t,e,n){n.pushingState=!0;let o=window.location.href,s=o.indexOf("?state="),u="";-1!==(o=-1!==s?o.substr(0,s):o).indexOf("?")?(u="&state=",-1!==(s=o.indexOf("&state="))&&(o=o.substr(0,s))):u="?state=",document.location.hash?e.pushState(null,document.title,o+u+t+document.location.hash):e.pushState(null,document.title,o+u+t),void 0!==document.getElement&&"object"==typeof(e=document.getElement("head"))&&"object"==typeof(t=e.getElement("base"))&&(t.href=t.href),n.pushingState=!1}
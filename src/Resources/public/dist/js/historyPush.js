function historyPush(t,e,n){n.pushingState=!0;let o=window.location.href,s=o.indexOf("?state=");-1!==s&&(o=o.substr(0,s));let u="";-1!==o.indexOf("?")?(u="&state=",s=o.indexOf("&state="),-1!==s&&(o=o.substr(0,s))):u="?state=",document.location.hash?e.pushState(null,document.title,o+u+t+document.location.hash):e.pushState(null,document.title,o+u+t),void 0!==document.getElement&&("object"!=typeof(t=document.getElement("head"))||"object"==typeof(t=t.getElement("base"))&&(t.href=t.href)),n.pushingState=!1}
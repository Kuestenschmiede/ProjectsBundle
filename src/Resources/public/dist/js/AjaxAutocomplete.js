function AjaxAutocomplete(e,t){var l=this;e&&t?(this.ajaxUrl=e,this.fieldToComplete=t,this.loadData=function(){jQuery.get(e+"/"+this.fieldToComplete.id+"/"+this.fieldToComplete.value).done(function(e){e=JSON.parse(e);l.addOptions(e.data)})},this.addOptions=function(e){var t,o,n=[];for(t in e)e.hasOwnProperty(t)&&((o=document.createElement("option")).text=e[t].name,n.push(o));if(0<n.length){for(var a=document.createElement("select"),i=0;i<n.length;i++)a.add(n[i]);a.onchange=function(e){this.value&&(console.log(l.fieldToComplete),l.fieldToComplete.value=this.value)},jQuery("#"+l.fieldToComplete.id).parent().append(a)}},this.fieldToComplete.onchange=function(e){l.loadData()}):console.warn("Not enough parameters passed. Aborting...")}
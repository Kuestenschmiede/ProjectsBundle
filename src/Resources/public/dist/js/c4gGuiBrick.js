window.c4g=window.c4g||{},window.c4g.projects=window.c4g.projects||{},function(I,E){var o=1;E.projects.c4gGui=function(t){t=I.extend({ajaxUrlPrefix:"ajax.php",navPanel:!0,jquiBreadcrumb:!0,jquiButtons:!0,embedDialogs:!1,jquiEmbeddedDialogs:!0,wswgEditor:!1,breadcrumbDelim:"",contaoPath:"",contaoLanguage:"",width:"",height:"",mainDiv:""},t),this.options=t,this.options.moduleId=t.id,this.buttonDiv=null,this.pushingState=!1,this.mainDiv=t.mainDiv;var a=this,e=(I(window).resize(function(){I(".c4gGuiCenterDiv").each(function(t,e){a.fnCenterDiv(e)}),e&&e.columns.adjust().draw()}),null)},I.extend(E.projects.c4gGui.prototype,{setup:function(){var i=this;return this.mainDiv.each(function(){var t,e,a=i.options;void 0===a.id&&(a.id=o),(a.jquiBreadcrumb||a.jquiButtons||a.jquiEmbeddedDialogs)&&void 0===I.ui?I(this).html("jQuery UI missing!"):(""!==a.height&&I(this).height(a.height),""!==a.width&&I(this).width(a.width),I(this).attr("class",function(t,e){return void 0===e?"c4gGui":e+" c4gGui"}),void 0!==a.title&&I('<h1 id="c4gGuiTitle">'+a.title+"</h1>").appendTo(I(this)),I("<div />").attr("id","c4gGuiBreadcrumb"+a.id).attr("class","c4gGuiBreadcrumb").appendTo(I(this)),I("<div />").attr("id","c4gGuiHeadline"+a.id).attr("class","c4gGuiHeadline").appendTo(I(this)),i.buttonDiv=I("<div />").attr("id","c4gGuiButtons"+a.id).attr("class","c4gGuiButtons").appendTo(I(this)),I(i.buttonDiv).hide(),a.navPanel&&I("<div />").attr("id","c4gGuiNavigation"+a.id).attr("class","c4gGuiNavigation").appendTo(I(this)),I(this).append('<div class="c4gLoaderPh"></div>'),"function"==typeof I(document).ajaxStart&&I(document).ajaxStart(function(){I(".c4gGui,.c4gGuiDialog").addClass("c4gGuiAjaxBusy"),document.getElementsByClassName("c4g__spinner-wrapper")[0].style.display="flex"}),"function"==typeof I(document).ajaxStop&&I(document).ajaxStop(function(){I(".c4gGui,.c4gGuiDialog").removeClass("c4gGuiAjaxBusy"),document.getElementsByClassName("c4g__spinner-wrapper")[0].style.display="none"}),I("<div />").attr("id","c4gGuiContent"+a.id).attr("class","c4gGuiContent").appendTo(I("<div />").attr("id","c4gGuiContentWrapper"+a.id).attr("class","c4gGuiContentWrapper").appendTo(this)),I("<div />").attr("id","c4gGuiDialog"+a.id).attr("class","c4gGuiDialog").appendTo(this),a.initData?((t={}).content=a.initData,i.fnHandleAjaxResponse(t,a.id)):I.ajax({internalId:a.id,url:a.ajaxUrl,data:a.ajaxData+"/initnav",dataType:"json",type:"GET"}).done(function(t){i.fnHandleAjaxResponse(t,i.internalId)}).fail(function(t){i.fnInitContentDiv(),I(this.contentDiv).text("Error1: could not update history")}),null!=history&&(e=a.id,History&&History.Adapter&&History.Adapter.bind(window,"statechange",function(){var t;i.pushingState||(t=History.getState(),"undefined"!==a.ajaxUrl&&void 0!==a.ajaxUrl&&I.ajax({internalId:e,url:a.ajaxUrl+"/"+a.ajaxData,data:"historyreq="+decodeURI((RegExp("state=(.+?)(&|$)").exec(t.url)||[,null])[1]),dataType:"json",type:"GET"}).done(function(t){i.fnHandleAjaxResponse(t,this.internalId)}).fail(function(t){I(i.contentDiv).text("Error2: could not update history")}))})),a.id++,o=a.id)})},handlePdfResponse:function(t,e){window.open(t.filePath,"_blank")},fnHandleAjaxResponse:function(t,g){function e(t,e=null){var a,o,n,c,i,r,s,l=t.contenttype,d=t.contentoptions,u=t.contentdata;"datatable"===l&&void 0!==u&&(void 0===I.fn.dataTable?I(h.contentDiv).html("<h1>jQuery.dataTable missing</h1>"):(a=I("<table />").attr("id","c4gGuiDataTable:"+t.state).attr("cellpadding","0").attr("cellspacing","0").attr("border","0").attr("class","display c4gGuiDataTable").appendTo(e||h.contentDiv),s=r=i=!(c=n=o=-1),void 0!==d&&(void 0!==d.actioncol&&(o=d.actioncol),void 0!==d.selectrow&&(n=d.selectrow),void 0!==d.tooltipcol&&(c=d.tooltipcol),void 0!==d.selectOnHover&&(i=d.selectOnHover),void 0!==d.clickAction&&(r=d.clickAction),void 0!==d.multiSelect&&(s=d.multiSelect)),u=I.extend({fnRowCallback:function(t,e,a,i){return-1!==o&&I(t).attr("data-action",e[o]),-1!==n&&a===n&&(I(t).addClass("selected"),I(".dataTables_scrollBody").scrollTo(t)),-1!==c&&"function"==typeof I.fn.tooltip&&e[c]&&(I(t).attr("data-tooltip",e[c]),I(t).tooltip({bodyHandler:function(){return I(t).attr("data-tooltip")},extraClass:"c4gGuiTooltipComponent c4gGuiTooltipInTable"})),t},footerCallback:function(t,e,a,i,o){var n=this.api();0<I(".c4g_sumfoot").length&&I(".c4g_sumfoot").remove(),0<I(".c4g_sum").length&&(I(this).append('<tfoot class="c4g_sumfoot"><tr role="row" class="c4g_sumrow ui-state-highlight"></tr></tfoot>'),n.columns(".c4g_brick_col",{page:"current"}).every(function(){var t;"none"!==I(this.header()).css("display")&&((t=this.header().className.indexOf("c4g_sum")?(t=n.cells(null,this.index()).data().reduce(function(t,e){e+="";t=(t+="")?t.replace(",","."):0,t=parseFloat(t)||0,e=e?e.replace(",","."):0;return t+(parseFloat(e)||0)},0))&&((t=parseFloat(t).toFixed(2).toLocaleString())?t.replace(".",","):0):t)&&this.header().className&&-1!==this.header().className.indexOf("c4g_sum")?I(".c4g_sumrow").append('<th class="c4g_list_align_right" style="width:100%;">'+t+"</th>"):I(".c4g_sumrow").append('<th class="c4g_list_align_right" style="width:100%;"></th>'))}))},fnDrawCallback:function(){I(a).find("tr").unbind("hover").unbind("click").hover(function(){i&&I(this).addClass("row_selected"),(r||s)&&I(this).addClass("cursor_pointer")},function(){i&&I(this).removeClass("row_selected"),(r||s)&&I(this).removeClass("cursor_pointer")}).click(function(){if(s&&I(this).toggleClass("row_selected"),r&&void 0!==I(this).attr("data-action"))return v(f.ajaxData+"/"+I(this).attr("data-action")),!1})}},u),p=I(a).DataTable(u),h.fnDataTableColumnVis(p))),"html"===l&&(t="c4gGuiHtml",void 0!==d&&d.scrollable&&(t+=" c4gGuiScrollable"),(e=I("<div />").attr("id","c4gGuiHtml"+g).attr("class",t).appendTo(h.contentDiv).html(u)).find(".c4gGuiAction").hover(function(){"undefined"!==I(this).attr("data-hoverclass")&&I(this).attr("data-hoverclass")&&I(this).addClass(I(this).attr("data-hoverclass"))},function(){"undefined"!==I(this).attr("data-hoverclass")&&I(this).attr("data-hoverclass")&&I(this).removeClass(I(this).attr("data-hoverclass"))}).click(function(){if(void 0!==I(this).attr("data-href"))return I(this).attr("data-href_newwindow")?y(I(this).attr("data-href"),!0):y(I(this).attr("data-href")),!1;if("undefined"!=typeof ckeditor5instances&&ckeditor5instances){let t=Object.keys(ckeditor5instances).length;for(;0<t;)--t,ckeditor5instances[t].updateSourceElement()}var a;return I(this).hasClass("c4gGuiSend")?(a={},I(h.contentDiv).find(".formdata").each(function(t,e){"checkbox"===I(e).attr("type")?a[I(e).attr("name")]=I(e).is(":checked"):a[I(e).attr("name")]=I(e).val()}),void 0!==I(this).attr("data-action")&&m(f.ajaxUrl+"/"+f.ajaxData+"/"+I(this).attr("data-action"),a),!1):void 0!==I(this).attr("data-action")?(v(f.ajaxData+"/"+I(this).attr("data-action")),!1):void 0}),G(e),D(e),b(e),w(e)),window.scrollTo(0,0)}function i(t){var e;f.embedDialogs?(I(t).hide(),void 0!==(e=I(t).prev().show().attr("data-state"))&&""!==e||(e=I(h.contentDiv).attr("data-state")),I(t).prev().hasClass("c4gGuiContent")&&I(h.buttonDiv).show(),""!==e&&null!=history&&h.fnHistoryPush(e),I(t).remove()):I(t).parent().find(".ui-dialog-titlebar-close").trigger("click"),window.scrollTo(0,0)}var p,a="#c4gGuiNavigation"+g,o=(this.contentWrapperDiv="#c4gGuiContentWrapper"+g,this.contentDiv="#c4gGuiContent"+g,"#c4gGuiDialog"+g),n="#c4gGuiBreadcrumb"+g,c="#c4gGuiHeadline"+g,h=this,f=this.options,r=function(t,e,a,i){e.indexOf("?")<=0?e+="?id=0":e+="&id=0",e+=f.contaoLanguage?"&language="+f.contaoLanguage:"",I.ajax({internalId:g,url:e,data:a,dataType:"json",type:t}).done(function(t){t.filePath&&t.fileName?h.handlePdfResponse(t,this.internalId):(h.fnHandleAjaxResponse(t,this.internalId),i?0<(t=I(".c4gForumPost").length)&&I("html,body").animate({scrollTop:I(I(".c4gForumPost")[t-1]).offset().top},"slow"):(t=I(".mod_c4g_forum"))&&0<t.length&&I("html,body").animate({scrollTop:t.offset().top},"slow"))}).fail(function(t){h.fnInitContentDiv(),I(h.contentDiv).text("Error3: "+t)})},v=function(t,e){r("GET",f.ajaxUrl+"/"+t,null,e)},m=function(t,e){r("PUT",t,e)},y=function(t,e){"Microsoft Internet Explorer"===navigator.appName&&t.indexOf(":")<0&&"/"!==t[0]&&(t=t.replace("index.php/","")),e?window.open(t,"Window"):window.location=t},D=function(t){"function"==typeof I.fn.tooltip&&t.find(".c4gGuiTooltip").tooltip({track:!1,delay:0,extraClass:"c4gGuiTooltipComponent ui-corner-all ui-widget-content",showURL:!0})},b=function(t){"function"==typeof I.fn.accordion&&t.find(".c4gGuiAccordion").accordion({active:!1,autoHeight:!1,collapsible:!0})},w=function(t){let e=t.find(".c4gGuiCollapsible_hide");"function"==typeof e.slideUp&&e.slideUp(0),t.find(".c4gGuiCollapsible_trigger").click(function(){I(this).children(".c4gGuiCollapsible_trigger_target").slideToggle(250),I(this).nextUntil(".c4gGuiCollapsible_trigger",".c4gGuiCollapsible_target").slideToggle(250)})},G=function(t){"function"==typeof I.fn.button&&t.find(".c4gGuiButton").button()},l=t&&t.content?t.content:t;if(null!=(l=l&&"object"!=typeof l?I.parseJSON(l):l)){l.initAction&&(s=f.id,I.ajax({internalId:f.id,url:f.ajaxUrl+"/"+f.id+"/"+l.initAction,dataType:"json",type:"GET"}).done(function(t){h.fnHandleAjaxResponse(t,s)}).fail(function(t){h.fnInitContentDiv(),I(this.contentDiv).text("Error1: "+t)})),l.pdfPath&&(u=l.pdfPath,new File([],u),(j=document.createElement("a")).href=u,j.setAttribute("download",""),j.dispatchEvent(new MouseEvent("click"))),void 0!==l.title&&I("#c4gGuiTitle").html(l.title);var s,d,u="";if(null!=history&&(void 0!==l.state&&(u=l.state),""!==(u=void 0!==l.dialogstate?l.dialogstate:u)&&this.fnHistoryPush(u)),void 0!==l.headline&&I(c).html(l.headline),(!I.isArray(l.breadcrumb)||(I(n).empty(),I.each(l.breadcrumb,function(t,e){0<t&&""!==f.breadcrumbDelim&&I(n).append('<span class="c4gGuiBreadcrumbDelim">'+f.breadcrumbDelim+"</span>");t=I("<a />").attr("href","#").attr("class","c4gGuiBreadcrumbItem").html(e.text).click(function(t){return t.preventDefault(),t.stopPropagation(),"disabled"!==I(t.currentTarget).attr("disabled")&&(e.url?y(e.url):e.id&&v(f.ajaxData+"/"+e.id)),!1}).appendTo(n);f.jquiBreadcrumb&&t.button()}),I(".c4gGuiBreadcrumbItem").last().attr("disabled","disabled").addClass("ui-state-hover").on("mouseleave",function(t){I(t.currentTarget).addClass("ui-state-hover")}).on("mousedown",function(t){I(t.currentTarget).removeClass("ui-state-active")}),l!==t))&&I(".c4gGuiBreadcrumbItem").last().attr("disabled",!1),I.isArray(l.buttons)&&(I(h.buttonDiv).empty(),I(h.buttonDiv).hide(),I.each(l.buttons,function(i,o){var t=I("<a />").attr("href","#").attr("accesskey",o.accesskey).attr("class",o.cssClass+" c4g__btn c4g__btn-primary").html(o.text).click(function(){if(o.tableSelection){if(void 0!==p&&null!=p){for(var t={},e=p.rows(".row_selected").nodes(),a=0;a<e.length;a++)t["action"+i]=I(e[a]).attr("data-action");m(f.ajaxUrl+"/"+f.ajaxData+"/"+o.id,t)}}else v(f.ajaxData+"/"+o.id);return!1}).appendTo(h.buttonDiv);f.jquiButtons&&t.button(),I(h.buttonDiv).show()})),void 0!==l.treedata&&(I(a).empty(),void 0===I.fn.dynatree?I(a).html("<h1>jQuery.dynatree missing</h1>"):(j=I("<div />").attr("id","c4gGuiDynatree"+g).attr("class","c4gGuiTree").attr("width",I(a).width()).attr("height",I(a).height()).appendTo(I(a)),c=I.extend({onActivate:function(t){void 0!==t.data.href&&""!==t.data.href&&null!==t.data.href?t.data.href_newwindow?y(t.data.href,!0):y(t.data.href):v(f.ajaxData+"/"+t.data.key)},onFocus:function(t){t.scheduleAction("activate",2e3)}},l.treedata),I(j).dynatree(c),I(a).resizable("destroy"),I(a+" .dynatree-container").width(I(a).width()-8),I(a).resizable({alsoResize:a+" .dynatree-container, "+a+" .c4gGuiTree",resize:function(t,e){var a=I(h.contentWrapperDiv).parent().width()-e.size.width-5;I(h.contentWrapperDiv).width(a),I(h.contentWrapperDiv).height(e.size.height)},stop:function(){void 0!==p&&null!=p&&p.fnDraw(!0)}}),D(I(a)))),void 0!==l.contentdata||I.isArray(l.contents)){h.fnInitContentDiv();var t="100%",j="100%";if(f.navPanel&&(t=I(h.contentWrapperDiv).parent().width()-I(a).width()-5,j=I(a).height()),I(h.contentWrapperDiv).width(t),I(h.contentWrapperDiv).height(j),void 0!==l.state&&I(h.contentDiv).attr("data-state",l.state),I.isArray(l.contents))for(var x=0;x<l.contents.length;x++)e(l.contents[x]);else e(l);I(".c4gGuiCenterDiv").each(function(t,e){h.fnCenterDiv(e)}),void 0!==l.precontent&&I(h.contentDiv).prepend(I("<div />").attr("class","c4gGuiPreContent").html(l.precontent)),void 0!==l.postcontent&&I("<div />").attr("class","c4gGuiPostContent").html(l.postcontent).appendTo(h.contentDiv)}if(void 0!==l.dialogclose&&("string"==typeof l.dialogclose?i("#c4gGuiDialog"+l.dialogclose):I.each(l.dialogclose,function(t,e){i("#c4gGuiDialog"+e)})),l.dialogcloseall&&I(".c4gGuiDialog").parent().find(".ui-dialog-titlebar-close").trigger("click"),void 0!==l.dialogdata){var k,C={},T=(void 0!==l.dialogoptions&&(C=l.dialogoptions),g),c=(void 0!==l.dialogid&&(T=l.dialogid),C.dialogClass="c4gGuiDialogWrapper",C.position=[I(h.contentWrapperDiv).parent().offset().left,I(h.contentWrapperDiv).parent().offset().top],void 0===C.width&&(C.width=I(h.contentDiv).parent().width()),void 0===C.height&&(I(h.contentWrapperDiv).parent().height()<300?C.height=300:C.height=I(h.contentWrapperDiv).parent().height()),C.close=function(){I("#c4gGuiDialog"+T).remove();var t=I(h.contentDiv).attr("data-state");return""!==t&&null!=history&&h.fnHistoryPush(t),!0},void 0!==l.dialogbuttons&&(C.buttons=[],I(l.dialogbuttons).each(function(t,o){var e=o.class||"",a=o.accesskey||"";C.buttons.push({cssClass:e,accesskey:a,text:o.text,click:function(){if("send"===o.type){if(0<I("#ckeditor").length&&CKEDITOR&&CKEDITOR.instances.ckeditor&&void 0!==CKEDITOR.instances.ckeditor&&CKEDITOR.instances.ckeditor.updateElement(),"undefined"!=typeof ckeditor5instances&&ckeditor5instances)for(var t in ckeditor5instances)ckeditor5instances.hasOwnProperty(t)&&ckeditor5instances[t].updateSourceElement();var a={};I("#c4gGuiDialog"+T).find(".formdata").each(function(t,e){I(e).trigger("c4g_before_save"),"checkbox"===I(e).attr("type")?a[I(e).attr("name")]=I(e).is(":checked"):a[I(e).attr("name")]=I(e).val()}),void 0!==o.action&&m(f.ajaxUrl+"/"+f.ajaxData+"/"+o.action,a)}else"submit"===o.type&&(I("#c4gGuiDialog"+T).find(".formlink").each(function(t,e){I(e).trigger("c4g_before_save");var a="",i=("clear"!==o.action&&(a=I(e).val()),I(e).attr("data-target"));i&&((e=I(e).attr("data-trgattr"))?I(i).attr(e,a):I(i).html(a))}),i("#c4gGuiDialog"+T)),"get"===o.type&&void 0!==o.action&&("c4g-reload-content"===o.class?v(f.ajaxData+"/"+o.action,!0):v(f.ajaxData+"/"+o.action));return!1}})})),null),a="";if(I("#c4gGuiDialog"+T).remove(),"html"===l.dialogtype&&(window.scrollTo(0,0),a="c4gGuiHtml",c=(void 0!==l.usedialog?I("#c4gGuiDialog"+l.usedialog):I("<div />")).attr("id","c4gGuiDialog"+T)),"form"===l.dialogtype&&(window.scrollTo(0,0),a="c4gGuiForm",c=I("<div />").attr("id","c4gGuiDialog"+T)),null!=c)if(f.embedDialogs?(void 0===l.usedialog?(I(h.contentWrapperDiv).children().last().hide(),I(h.buttonDiv).hide()):I(c).empty(),t=I("<div />").attr("id","c4gGuiDialogContent"+T).html(l.dialogdata).appendTo(c),f.jquiEmbeddedDialogs?I(t).attr("class","c4gGuiDialogContent c4gGuiDialogContentJqui"):I(t).attr("class","c4gGuiDialogContent c4gGuiDialogContentNoJqui"),I(c).attr("class",a+" c4gGuiDialog").appendTo(h.contentWrapperDiv),void 0!==C.title&&(j="",C.title&&(f.jquiEmbeddedDialogs?(j=I("<div>").attr("class","c4gGuiDialogTitle c4gGuiDialogTitleJqui ui-widget ui-widget-header ui-corner-all")).html(C.title):j=I("<div>").attr("class","c4gGuiDialogTitle c4gGuiDialogTitleNoJqui").append(I("<h1>").html(C.title))),I(c).prepend(j)),t=f.jquiEmbeddedDialogs?"c4gGuiDialogButtons c4gGuiDialogButtonsJqui":"c4gGuiDialogButtons c4gGuiDialogButtonsNoJqui",k=I("<div>").attr("class",t),I.each(C.buttons,function(t,e){e=I("<a>").attr("href","#").attr("accesskey",e.accesskey).attr("class",e.cssClass+" c4g__btn c4g__btn-primary").html(e.text).click(e.click).appendTo(k);f.jquiEmbeddedDialogs&&e.button()}),I(c).append(k)):(I(c).html(l.dialogdata),a+=" c4gGuiScrollable c4gGuiDialog",void 0===l.usedialog&&I(c).appendTo(o),j=c,"function"==typeof I.fn.jScrollPane&&j.jScrollPane({autoReinitialise:!0,autoReinitialiseDelay:100}),I(c).attr("class",a).dialog(C).dialog({focus:function(t,e){var a=I(this).attr("data-state");""!==a&&null!=history&&h.fnHistoryPush(a)}})),"object"==typeof l.dialogdata&&e(l.dialogdata,c),I(c).attr("data-state",u),G(c),I(c).find('input[type="checkbox"]').click(function(){var t=I(this).attr("data-togglevis");void 0!==t&&(I(this).is(":checked")?I(t).show():I(t).hide())}),I(c).keypress(function(t){13===t.which&&I("#c4gGuiDialog"+T).parent().find(".c4gGuiDefaultAction").each(function(t,e){e.click()})}),I(c).find(".c4gGuiAction").click(function(){var a;return I(this).hasClass("c4gGuiSend")?(a={},I("#c4gGuiDialog"+T).find(".formdata").each(function(t,e){"checkbox"===I(e).attr("type")?a[I(e).attr("name")]=I(e).is(":checked"):a[I(e).attr("name")]=I(e).val()}),void 0!==I(this).attr("data-action")&&m(f.ajaxUrl+"/"+f.ajaxData+"/"+I(this).attr("data-action"),a),!1):I(this).hasClass("c4gGuiAction")?(void 0!==I(this).attr("data-action")&&v(f.ajaxData+"/"+I(this).attr("data-action")),!1):void 0}),"function"==typeof I.fn.button&&I(c).find("a.c4gGuiButtonDisabled").button({disabled:!0}),I(c).find(".formlink").each(function(t,e){var a,i=I(e).attr("data-source");i&&((a=I(e).attr("data-srcattr"))?I(e).attr("value",I(i).attr(a)):I(e).attr("value",I(i).html()))}),D(c),b(c),w(c),0<I("#ckeditor").length){("undefined"==typeof ckEditorItems||""===ckEditorItems||ckEditorItems.length<=1)&&(ckEditorItems=["Cut","Copy","Paste","PasteText","PasteFromWord","-","Undo","Redo","Bold","Italic","Underline","Strike","Subscript","Superscript","Blockquote","-","RemoveFormat","NumberedList","BulletedList","Link","Unlink","Anchor","Image","FileUpload","Smiley","TextColor","BGColor"]),I.browser.mozilla&&CKEDITOR.on("instanceReady",function(t){t.editor.on("mode",function(t){"wysiwyg"===t.editor.mode&&(document.designMode="on",document.execCommand("enableObjectResizing",!1,!1),document.execCommand("enableInlineTableEditing",!1,!1),document.designMode="off")}),document.designMode="on",document.execCommand("enableObjectResizing",!1,!1),document.execCommand("enableInlineTableEditing",!1,!1),document.designMode="off"});try{CKEDITOR.instances.ckeditor&&CKEDITOR.instances.ckeditor.destroy(!0)}catch(t){}setTimeout(function(){CKEDITOR.replace("ckeditor",{toolbar:[{name:"all",items:ckEditorItems}],removePlugins:ckRemovePlugins||"",language:f.contaoLanguage,defaultLanguage:"en",disableObjectResizing:!0,filebrowserImageUploadUrl:f.contaoPath+"con4gis/upload/image",filebrowserUploadUrl:f.contaoPath+uploadApiUrl})},500)}}if(void 0!==l.usermessage&&(t="Usermessage","de"!==navigator.language&&"de-DE"!==navigator.language||(t="Benutzerhinweis"),o="",l.title&&(t=l.title),l.callback&&(d=l.callback),l.jump_after_message&&(o=l.jump_after_message),a=new window.AlertHandler,d&&o?a.showConfirmDialog(t,l.usermessage,o,d,"Ja","Nein","c4g__message_confirm_select"):d?a.showInfoActionDialog(t,l.usermessage,d,"c4g__message_confirm_simple"):o?a.showInfoActionDialog(t,l.usermessage,o,"c4g__message_confirm_redirect"):a.showInfoDialog(t,l.usermessage,"c4g__message_confirm_info")),void 0!==l.performaction&&v(f.ajaxData+"/"+l.performaction),void 0!==l.mapdata){for(var _ in l.mapdata)l.mapdata.hasOwnProperty(_)&&(l.mapdata[_].mapDiv=l.mapdata[_].div,l.mapdata[_].addIdToDiv=!1);Array.isArray(l.mapdata)?window.initMaps(l.mapdata):(l.mapdata.addIdToDiv=!1,window.mapData=window.mapData||{},window.mapData[l.mapdata.id]=l.mapdata,window.initMap(window.mapData[l.mapdata.id])),l.locations&&0<l.locations.length&&(window.c4gMapsHooks=window.c4gMapsHooks||{},window.c4gMapsHooks.hook_layer=[],window.c4gMapsHooks.hook_layer.push(function(t){var e={features:[],type:"FeatureCollection",properties:{}};if(t.config.countAll++,0<=window.location.href.search("search")){for(var a,i,o=0;l.locations&&o<l.locations.length;o++)parseFloat(l.locations[o].geox)&&parseFloat(l.locations[o].geoy)&&(a=(a=window.location.href).replace("_search","_view"),a+=l.locations[o].id,s={geometry:{coordinates:[l.locations[o].geox,l.locations[o].geoy],type:"Point"},type:"Feature",properties:{name:l.locations[o].name,graphicTitle:"",projection:"EPSG:4326",popup:{async:!1,content:"<div><h1>"+l.locations[o].name+"</h1><p><strong>ID:</strong>"+l.locations[o].id+'</p><p><a href="'+a+'">Details</a></p></div>'},tooltip:""}},e.features.push(s));e&&e.features&&e.features.length&&(-1===(i=t.layer.findIndex(function(t){return 9999===t.id}))?(t.config.countAll++,t.layer.push({activeForBaselayers:"all",content:[{data:e,type:"GeoJSON",id:9999,locationStyle:"1"}],childs:[],childsCount:0,display:!0,id:9999,name:"TestHook",noFilter:"",noRealFilter:!1,type:"GeoJSON"})):t.layer[i]={activeForBaselayers:"all",content:[{data:e,type:"GeoJSON",id:9999,locationStyle:"1"}],childs:[],childsCount:0,display:!0,id:9999,name:"TestHook",noFilter:"",noRealFilter:!1,type:"GeoJSON"})}else{try{for(var n=I("div:nth-child(5) > div.cwc_dTable_wrapper > table > tbody > tr.cwc_dTable_additional > td > div:nth-child(3) > table > tbody > tr"),e={features:[],type:"FeatureCollection",properties:{}},o=0;o<n.length;o++){var c=parseFloat(n[o].cells[1].childNodes[1].data),r=parseFloat(n[o].cells[0].childNodes[1].data),s={geometry:{coordinates:[r,c],type:"Point"},type:"Feature",properties:{graphicTitle:"",projection:"EPSG:4326",popup:!1,tooltip:""}};e.features.push(s)}}catch(t){console.log(t)}c&&r&&t.layer.push({activeForBaselayers:"all",content:[{data:e,type:"GeoJSON",id:9999,locationStyle:"1"}],childs:[],childsCount:0,display:!0,id:9999,name:"TestHook",noFilter:"",noRealFilter:!1,type:"GeoJSON"})}}))}if(void 0!==l.cronexec&&null!=l.cronexec&&("string"==typeof(u=l.cronexec)&&(u=new Array(u)),I.each(u,function(t,e){I.ajax({url:f.ajaxUrl+"/"+f.ajaxData+"/cron:"+e,data:null,success:function(){},global:!1})})),void 0!==l.jump_to_url&&y(l.jump_to_url),E.projects.hook&&E.projects.hook.responseHandled&&0<E.projects.hook.responseHandled.length)for(let t=0;t<E.projects.hook.responseHandled.length;t++)"function"==typeof E.projects.hook.responseHandled[t]&&l.searchValue&&E.projects.hook.responseHandled[t]({searchValue:l.searchValue})}},fnDataTableColumnVis:function(i){var t;void 0!==i&&null!=i&&(null!=(t=i.settings())&&I(t.aoColumns).each(function(t,a){void 0!==a.c4gMinTableSize&&i.fnSetColumnVis(t,i.width()>=a.c4gMinTableSize,!1),void 0!==a.c4gMinTableSizeWidths&&I(a.c4gMinTableSizeWidths).each(function(t,e){if(i.width()>=e.tsize)return a.sWidthOrig!==e.width&&(a.sWidthOrig=e.width),!1})}),I("#top").hasClass("ie8")&&i.fnDraw())},fnCenterDiv:function(t){var a=I(t).parent().width(),i=0;I(t).children().each(function(t,e){if(i+=I(e).outerWidth(!0),a<i)return i-=I(e).outerWidth(!0),!1}),0<i&&I(t).css({margin:"0 auto",width:i+"px"})},fnInitContentDiv:function(){I(this.contentDiv).empty(),I(this.contentWrapperDiv+" div:not("+this.contentDiv+")").remove(),I(this.contentDiv).show()},fnHistoryPush:function(t){null!=history&&"function"==typeof historyPush&&historyPush(t,history,this)}})}(jQuery,window.c4g);
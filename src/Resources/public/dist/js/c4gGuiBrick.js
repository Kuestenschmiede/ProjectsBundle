window.c4g=window.c4g||{},window.c4g.projects=window.c4g.projects||{},function(B,R){var o=1;R.projects.c4gGui=function(t){t=B.extend({ajaxUrlPrefix:"ajax.php",navPanel:!0,jquiBreadcrumb:!0,jquiButtons:!0,embedDialogs:!1,jquiEmbeddedDialogs:!0,wswgEditor:!1,breadcrumbDelim:"",contaoPath:"",contaoLanguage:"",width:"",height:"",mainDiv:""},t),this.options=t,this.options.moduleId=t.id,this.buttonDiv=null,this.pushingState=!1,this.mainDiv=t.mainDiv;var e=this;B(window).resize(function(){B(".c4gGuiCenterDiv").each(function(t,a){e.fnCenterDiv(a)}),a&&a.columns.adjust().draw()});var a=null},B.extend(R.projects.c4gGui.prototype,{setup:function(){var i=this;return this.mainDiv.each(function(){var t,a,e=i.options;void 0===e.id&&(e.id=o),(e.jquiBreadcrumb||e.jquiButtons||e.jquiEmbeddedDialogs)&&void 0===B.ui?B(this).html("jQuery UI missing!"):(""!==e.height&&B(this).height(e.height),""!==e.width&&B(this).width(e.width),B(this).attr("class",function(t,a){return void 0===a?"c4gGui":a+" c4gGui"}),void 0!==e.title&&B('<h1 id="c4gGuiTitle">'+e.title+"</h1>").appendTo(B(this)),B("<div />").attr("id","c4gGuiBreadcrumb"+e.id).attr("class","c4gGuiBreadcrumb").appendTo(B(this)),B("<div />").attr("id","c4gGuiHeadline"+e.id).attr("class","c4gGuiHeadline").appendTo(B(this)),i.buttonDiv=B("<div />").attr("id","c4gGuiButtons"+e.id).attr("class","c4gGuiButtons").appendTo(B(this)),B(i.buttonDiv).hide(),e.navPanel&&B("<div />").attr("id","c4gGuiNavigation"+e.id).attr("class","c4gGuiNavigation").appendTo(B(this)),B(this).append('<div class="c4gLoaderPh"></div>'),"function"==typeof B(document).ajaxStart&&B(document).ajaxStart(function(){B(".c4gGui,.c4gGuiDialog").addClass("c4gGuiAjaxBusy"),document.getElementsByClassName("c4g__spinner-wrapper")[0].style.display="flex"}),"function"==typeof B(document).ajaxStop&&B(document).ajaxStop(function(){B(".c4gGui,.c4gGuiDialog").removeClass("c4gGuiAjaxBusy"),document.getElementsByClassName("c4g__spinner-wrapper")[0].style.display="none"}),B("<div />").attr("id","c4gGuiContent"+e.id).attr("class","c4gGuiContent").appendTo(B("<div />").attr("id","c4gGuiContentWrapper"+e.id).attr("class","c4gGuiContentWrapper").appendTo(this)),B("<div />").attr("id","c4gGuiDialog"+e.id).attr("class","c4gGuiDialog").appendTo(this),e.initData?((t={}).content=e.initData,i.fnHandleAjaxResponse(t,e.id)):B.ajax({internalId:e.id,url:e.ajaxUrl,data:e.ajaxData+"/initnav",dataType:"json",type:"GET"}).done(function(t){i.fnHandleAjaxResponse(t,i.internalId)}).fail(function(t){i.fnInitContentDiv(),B(this.contentDiv).text("Error1: could not update history")}),null!=history&&(a=e.id,History&&History.Adapter&&History.Adapter.bind(window,"statechange",function(){var t;i.pushingState||(t=History.getState(),"undefined"!==e.ajaxUrl&&void 0!==e.ajaxUrl&&B.ajax({internalId:a,url:e.ajaxUrl+"/"+e.ajaxData,data:"historyreq="+decodeURI((RegExp("state=(.+?)(&|$)").exec(t.url)||[,null])[1]),dataType:"json",type:"GET"}).done(function(t){i.fnHandleAjaxResponse(t,this.internalId)}).fail(function(t){B(i.contentDiv).text("Error2: could not update history")}))})),e.id++,o=e.id)})},handlePdfResponse:function(t,a){window.open(t.filePath,"_blank")},fnHandleAjaxResponse:function(t,g){var a="#c4gGuiNavigation"+g;this.contentWrapperDiv="#c4gGuiContentWrapper"+g,this.contentDiv="#c4gGuiContent"+g;function e(t,a,e,i){a.indexOf("?")<=0?a+="?id=0":a+="&id=0",a+=G.contaoLanguage?"&language="+G.contaoLanguage:"",B.ajax({internalId:g,url:a,data:e,dataType:"json",type:t}).done(function(t){var a;t.filePath&&t.fileName?w.handlePdfResponse(t,this.internalId):(w.fnHandleAjaxResponse(t,this.internalId),i?0<(a=B(".c4gForumPost").length)&&B("html,body").animate({scrollTop:B(B(".c4gForumPost")[a-1]).offset().top},"slow"):(a=B(".mod_c4g_forum"))&&0<a.length&&B("html,body").animate({scrollTop:a.offset().top},"slow"))}).fail(function(t){w.fnInitContentDiv(),B(w.contentDiv).text("Error3: "+t)})}function p(t,a){e("GET",G.ajaxUrl+"/"+t,null,a)}function h(t,a){e("PUT",t,a)}function f(t,a){"Microsoft Internet Explorer"===navigator.appName&&t.indexOf(":")<0&&"/"!==t[0]&&(t=t.replace("index.php/","")),a?window.open(t,"Window"):window.location=t}function v(t){"function"==typeof B.fn.tooltip&&t.find(".c4gGuiTooltip").tooltip({track:!1,delay:0,extraClass:"c4gGuiTooltipComponent ui-corner-all ui-widget-content",showURL:!0})}function m(t){"function"==typeof B.fn.accordion&&t.find(".c4gGuiAccordion").accordion({active:!1,autoHeight:!1,collapsible:!0})}function D(t){let a=t.find(".c4gGuiCollapsible_hide");"function"==typeof a.slideUp&&a.slideUp(0),t.find(".c4gGuiCollapsible_trigger").click(function(){B(this).children(".c4gGuiCollapsible_trigger_target").slideToggle(250),B(this).nextUntil(".c4gGuiCollapsible_trigger",".c4gGuiCollapsible_target").slideToggle(250)})}function y(t){"function"==typeof B.fn.button&&t.find(".c4gGuiButton").button()}function i(t,a=null){var e,o,n,r,i,c,s,l=t.contenttype,d=t.contentoptions,u=t.contentdata;"datatable"===l&&void 0!==u&&(void 0===B.fn.dataTable?B(w.contentDiv).html("<h1>jQuery.dataTable missing</h1>"):(e=B("<table />").attr("id","c4gGuiDataTable:"+t.state).attr("cellpadding","0").attr("cellspacing","0").attr("border","0").attr("class","display c4gGuiDataTable").appendTo(a||w.contentDiv),s=c=i=!(r=n=o=-1),void 0!==d&&(void 0!==d.actioncol&&(o=d.actioncol),void 0!==d.selectrow&&(n=d.selectrow),void 0!==d.tooltipcol&&(r=d.tooltipcol),void 0!==d.selectOnHover&&(i=d.selectOnHover),void 0!==d.clickAction&&(c=d.clickAction),void 0!==d.multiSelect&&(s=d.multiSelect)),u=B.extend({fnRowCallback:function(t,a,e,i){return-1!==o&&B(t).attr("data-action",a[o]),-1!==n&&e===n&&(B(t).addClass("selected"),B(".dataTables_scrollBody").scrollTo(t)),-1!==r&&"function"==typeof B.fn.tooltip&&a[r]&&(B(t).attr("data-tooltip",a[r]),B(t).tooltip({bodyHandler:function(){return B(t).attr("data-tooltip")},extraClass:"c4gGuiDialogTitle c4gGuiDialogTitleJqui ui-widget ui-widget-header ui-corner-all"})),t},footerCallback:function(t,a,e,i,o){var n=this.api();0<B(".c4g_sumfoot").length&&B(".c4g_sumfoot").remove(),0<B(".c4g_sum").length&&(B(this).append('<tfoot class="c4g_sumfoot"><tr role="row" class="c4g_sumrow ui-state-highlight"></tr></tfoot>'),n.columns(".c4g_brick_col",{page:"current"}).every(function(){var t;"none"!==B(this.header()).css("display")&&((t=this.header().className.indexOf("c4g_sum")?(t=n.cells(null,this.index()).data().reduce(function(t,a){a+="";t=(t+="")?t.replace(",","."):0,t=parseFloat(t)||0,a=a?a.replace(",","."):0;return t+(a=parseFloat(a)||0)},0))&&((t=parseFloat(t).toFixed(2).toLocaleString())?t.replace(".",","):0):t)&&this.header().className&&-1!==this.header().className.indexOf("c4g_sum")?B(".c4g_sumrow").append('<th class="c4g_list_align_right" style="width:100%;">'+t+"</th>"):B(".c4g_sumrow").append('<th class="c4g_list_align_right" style="width:100%;"></th>'))}))},fnDrawCallback:function(){B(e).find("tr").unbind("hover").unbind("click").hover(function(){i&&B(this).addClass("row_selected"),(c||s)&&B(this).addClass("cursor_pointer")},function(){i&&B(this).removeClass("row_selected"),(c||s)&&B(this).removeClass("cursor_pointer")}).click(function(){if(s&&B(this).toggleClass("row_selected"),c&&void 0!==B(this).attr("data-action"))return p(G.ajaxData+"/"+B(this).attr("data-action")),!1})}},u),b=B(e).DataTable(u),w.fnDataTableColumnVis(b))),"html"===l&&(l="c4gGuiHtml",void 0!==d&&d.scrollable&&(l+=" c4gGuiScrollable"),(u=B("<div />").attr("id","c4gGuiHtml"+g).attr("class",l).appendTo(w.contentDiv).html(u)).find(".c4gGuiAction").hover(function(){"undefined"!==B(this).attr("data-hoverclass")&&B(this).attr("data-hoverclass")&&B(this).addClass(B(this).attr("data-hoverclass"))},function(){"undefined"!==B(this).attr("data-hoverclass")&&B(this).attr("data-hoverclass")&&B(this).removeClass(B(this).attr("data-hoverclass"))}).click(function(){if(void 0!==B(this).attr("data-href"))return B(this).attr("data-href_newwindow")?f(B(this).attr("data-href"),!0):f(B(this).attr("data-href")),!1;if("undefined"!=typeof ckeditor5instances&&ckeditor5instances){let t=Object.keys(ckeditor5instances).length;for(;0<t;)--t,ckeditor5instances[t].updateSourceElement()}if(B(this).hasClass("c4gGuiSend")){var e={};return B(w.contentDiv).find(".formdata").each(function(t,a){"checkbox"===B(a).attr("type")?e[B(a).attr("name")]=B(a).is(":checked"):e[B(a).attr("name")]=B(a).val()}),void 0!==B(this).attr("data-action")&&h(G.ajaxUrl+"/"+G.ajaxData+"/"+B(this).attr("data-action"),e),!1}return void 0!==B(this).attr("data-action")?(p(G.ajaxData+"/"+B(this).attr("data-action")),!1):void 0}),y(u),v(u),m(u),D(u)),window.scrollTo(0,0)}function n(t){var a;G.embedDialogs?(B(t).hide(),void 0!==(a=B(t).prev().show().attr("data-state"))&&""!==a||(a=B(w.contentDiv).attr("data-state")),B(t).prev().hasClass("c4gGuiContent")&&B(w.buttonDiv).show(),""!==a&&null!=history&&w.fnHistoryPush(a),B(t).remove()):B(t).parent().find(".ui-dialog-titlebar-close").trigger("click"),window.scrollTo(0,0)}var b,o,r,c="#c4gGuiDialog"+g,s="#c4gGuiBreadcrumb"+g,l="#c4gGuiHeadline"+g,w=this,G=this.options,d=t&&t.content?t.content:t;if(null!=(d=d&&"object"!=typeof d?B.parseJSON(d):d)){d.initAction&&(o=G.id,B.ajax({internalId:G.id,url:G.ajaxUrl+"/"+G.id+"/"+d.initAction,dataType:"json",type:"GET"}).done(function(t){w.fnHandleAjaxResponse(t,o)}).fail(function(t){w.fnInitContentDiv(),B(this.contentDiv).text("Error1: "+t)})),d.pdfPath&&(r=d.pdfPath,new File([],r),(E=document.createElement("a")).href=r,E.setAttribute("download",""),E.dispatchEvent(new MouseEvent("click"))),void 0!==d.title&&B("#c4gGuiTitle").html(d.title);var u,j,x,k,C,T,_,I,E="";if(null!=history&&(void 0!==d.state&&(E=d.state),""!==(E=void 0!==d.dialogstate?d.dialogstate:E)&&this.fnHistoryPush(E)),void 0!==d.headline&&B(l).html(d.headline),B.isArray(d.breadcrumb)?(B(s).empty(),B.each(d.breadcrumb,function(t,a){0<t&&""!==G.breadcrumbDelim&&B(s).append('<span class="c4gGuiBreadcrumbDelim">'+G.breadcrumbDelim+"</span>");t=B("<a />").attr("href","#").attr("class","c4gGuiBreadcrumbItem").html(a.text).click(function(t){return t.preventDefault(),t.stopPropagation(),"disabled"!==B(t.currentTarget).attr("disabled")&&(a.url?f(a.url):a.id&&p(G.ajaxData+"/"+a.id)),!1}).appendTo(s);G.jquiBreadcrumb&&t.button()}),B(".c4gGuiBreadcrumbItem").last().attr("disabled","disabled").addClass("ui-state-hover").on("mouseleave",function(t){B(t.currentTarget).addClass("ui-state-hover")}).on("mousedown",function(t){B(t.currentTarget).removeClass("ui-state-active")}),d!==t&&B(".c4gGuiBreadcrumbItem").last().attr("disabled",!1)):B(".c4gGuiBreadcrumbItem").last().attr("disabled",!1),B.isArray(d.buttons)&&(B(w.buttonDiv).empty(),B(w.buttonDiv).hide(),B.each(d.buttons,function(i,o){var t=B("<a />").attr("href","#").attr("accesskey",o.accesskey).attr("class",o.cssClass+" c4g__btn c4g__btn-primary").html(o.text).click(function(){if(o.tableSelection){if(void 0!==b&&null!=b){for(var t={},a=b.rows(".row_selected").nodes(),e=0;e<a.length;e++)t["action"+i]=B(a[e]).attr("data-action");h(G.ajaxUrl+"/"+G.ajaxData+"/"+o.id,t)}return!1}return p(G.ajaxData+"/"+o.id),!1}).appendTo(w.buttonDiv);G.jquiButtons&&t.button(),B(w.buttonDiv).show()})),void 0!==d.treedata&&(B(a).empty(),void 0===B.fn.dynatree?B(a).html("<h1>jQuery.dynatree missing</h1>"):(l=B("<div />").attr("id","c4gGuiDynatree"+g).attr("class","c4gGuiTree").attr("width",B(a).width()).attr("height",B(a).height()).appendTo(B(a)),t=B.extend({onActivate:function(t){void 0!==t.data.href&&""!==t.data.href&&null!==t.data.href?t.data.href_newwindow?f(t.data.href,!0):f(t.data.href):p(G.ajaxData+"/"+t.data.key)},onFocus:function(t){t.scheduleAction("activate",2e3)}},d.treedata),B(l).dynatree(t),B(a).resizable("destroy"),B(a+" .dynatree-container").width(B(a).width()-8),B(a).resizable({alsoResize:a+" .dynatree-container, "+a+" .c4gGuiTree",resize:function(t,a){var e=B(w.contentWrapperDiv).parent().width()-a.size.width-5;B(w.contentWrapperDiv).width(e),B(w.contentWrapperDiv).height(a.size.height)},stop:function(){void 0!==b&&null!=b&&b.fnDraw(!0)}}),v(B(a)))),void 0!==d.contentdata||B.isArray(d.contents)){w.fnInitContentDiv();var P="100%",S="100%";if(G.navPanel&&(P=B(w.contentWrapperDiv).parent().width()-B(a).width()-5,S=B(a).height()),B(w.contentWrapperDiv).width(P),B(w.contentWrapperDiv).height(S),void 0!==d.state&&B(w.contentDiv).attr("data-state",d.state),B.isArray(d.contents))for(var H=0;H<d.contents.length;H++)i(d.contents[H]);else i(d);B(".c4gGuiCenterDiv").each(function(t,a){w.fnCenterDiv(a)}),void 0!==d.precontent&&B(w.contentDiv).prepend(B("<div />").attr("class","c4gGuiPreContent").html(d.precontent)),void 0!==d.postcontent&&B("<div />").attr("class","c4gGuiPostContent").html(d.postcontent).appendTo(w.contentDiv)}if(void 0!==d.dialogclose&&("string"==typeof d.dialogclose?n("#c4gGuiDialog"+d.dialogclose):B.each(d.dialogclose,function(t,a){n("#c4gGuiDialog"+a)})),d.dialogcloseall&&B(".c4gGuiDialog").parent().find(".ui-dialog-titlebar-close").trigger("click"),void 0!==d.dialogdata&&(u={},void 0!==d.dialogoptions&&(u=d.dialogoptions),j=g,void 0!==d.dialogid&&(j=d.dialogid),u.dialogClass="c4gGuiDialogWrapper",u.position=[B(w.contentWrapperDiv).parent().offset().left,B(w.contentWrapperDiv).parent().offset().top],void 0===u.width&&(u.width=B(w.contentDiv).parent().width()),void 0===u.height&&(B(w.contentWrapperDiv).parent().height()<300?u.height=300:u.height=B(w.contentWrapperDiv).parent().height()),u.close=function(){B("#c4gGuiDialog"+j).remove();var t=B(w.contentDiv).attr("data-state");return""!==t&&null!=history&&w.fnHistoryPush(t),!0},void 0!==d.dialogbuttons&&(u.buttons=[],B(d.dialogbuttons).each(function(t,o){var a=o.class||"",e=o.accesskey||"";u.buttons.push({cssClass:a,accesskey:e,text:o.text,click:function(){if("send"!==o.type)return"submit"===o.type&&(B("#c4gGuiDialog"+j).find(".formlink").each(function(t,a){B(a).trigger("c4g_before_save");var e="";"clear"!==o.action&&(e=B(a).val());var i=B(a).attr("data-target");i&&((a=B(a).attr("data-trgattr"))?B(i).attr(a,e):B(i).html(e))}),n("#c4gGuiDialog"+j)),"get"===o.type&&void 0!==o.action&&("c4g-reload-content"===o.class?p(G.ajaxData+"/"+o.action,!0):p(G.ajaxData+"/"+o.action)),!1;if(0<B("#ckeditor").length&&CKEDITOR&&CKEDITOR.instances.ckeditor&&void 0!==CKEDITOR.instances.ckeditor&&CKEDITOR.instances.ckeditor.updateElement(),"undefined"!=typeof ckeditor5instances&&ckeditor5instances)for(var t in ckeditor5instances)ckeditor5instances.hasOwnProperty(t)&&ckeditor5instances[t].updateSourceElement();var e={};return B("#c4gGuiDialog"+j).find(".formdata").each(function(t,a){B(a).trigger("c4g_before_save"),"checkbox"===B(a).attr("type")?e[B(a).attr("name")]=B(a).is(":checked"):e[B(a).attr("name")]=B(a).val()}),void 0!==o.action&&h(G.ajaxUrl+"/"+G.ajaxData+"/"+o.action,e),!1}})})),_=null,P="",B("#c4gGuiDialog"+j).remove(),"html"===d.dialogtype&&(window.scrollTo(0,0),P="c4gGuiHtml",_=(void 0!==d.usedialog?B("#c4gGuiDialog"+d.usedialog):B("<div />")).attr("id","c4gGuiDialog"+j)),"form"===d.dialogtype&&(window.scrollTo(0,0),P="c4gGuiForm",_=B("<div />").attr("id","c4gGuiDialog"+j)),null!=_&&(G.embedDialogs?(void 0===d.usedialog?(B(w.contentWrapperDiv).children().last().hide(),B(w.buttonDiv).hide()):B(_).empty(),S=B("<div />").attr("id","c4gGuiDialogContent"+j).html(d.dialogdata).appendTo(_),G.jquiEmbeddedDialogs?B(S).attr("class","c4gGuiDialogContent c4gGuiDialogContentJqui"):B(S).attr("class","c4gGuiDialogContent c4gGuiDialogContentNoJqui"),B(_).attr("class",P+" c4gGuiDialog").appendTo(w.contentWrapperDiv),void 0!==u.title&&(x="",u.title&&(G.jquiEmbeddedDialogs?(x=B("<div>").attr("class","c4gGuiDialogTitle c4gGuiDialogTitleJqui")).html(u.title):x=B("<div>").attr("class","c4gGuiDialogTitle c4gGuiDialogTitleNoJqui").append(B("<h1>").html(u.title))),B(_).prepend(x)),x=G.jquiEmbeddedDialogs?"c4gGuiDialogButtons c4gGuiDialogButtonsJqui":"c4gGuiDialogButtons c4gGuiDialogButtonsNoJqui",k=B("<div>").attr("class",x),B.each(u.buttons,function(t,a){a=B("<a>").attr("href","#").attr("accesskey",a.accesskey).attr("class",a.cssClass+" c4g__btn c4g__btn-primary").html(a.text).click(a.click).appendTo(k);G.jquiEmbeddedDialogs&&a.button()}),B(_).append(k)):(B(_).html(d.dialogdata),P+=" c4gGuiScrollable c4gGuiDialog",void 0===d.usedialog&&B(_).appendTo(c),C=_,"function"==typeof B.fn.jScrollPane&&C.jScrollPane({autoReinitialise:!0,autoReinitialiseDelay:100}),B(_).attr("class",P).dialog(u).dialog({focus:function(t,a){var e=B(this).attr("data-state");""!==e&&null!=history&&w.fnHistoryPush(e)}})),"object"==typeof d.dialogdata&&i(d.dialogdata,_),B(_).attr("data-state",E),y(_),B(_).find('input[type="checkbox"]').click(function(){var t=B(this).attr("data-togglevis");void 0!==t&&(B(this).is(":checked")?B(t).show():B(t).hide())}),B(_).keypress(function(t){13===t.which&&B("#c4gGuiDialog"+j).parent().find(".c4gGuiDefaultAction").each(function(t,a){a.click()})}),B(_).find(".c4gGuiAction").click(function(){if(B(this).hasClass("c4gGuiSend")){var e={};return B("#c4gGuiDialog"+j).find(".formdata").each(function(t,a){"checkbox"===B(a).attr("type")?e[B(a).attr("name")]=B(a).is(":checked"):e[B(a).attr("name")]=B(a).val()}),void 0!==B(this).attr("data-action")&&h(G.ajaxUrl+"/"+G.ajaxData+"/"+B(this).attr("data-action"),e),!1}if(B(this).hasClass("c4gGuiAction"))return void 0!==B(this).attr("data-action")&&p(G.ajaxData+"/"+B(this).attr("data-action")),!1}),"function"==typeof B.fn.button&&B(_).find("a.c4gGuiButtonDisabled").button({disabled:!0}),B(_).find(".formlink").each(function(t,a){var e,i=B(a).attr("data-source");i&&((e=B(a).attr("data-srcattr"))?B(a).attr("value",B(i).attr(e)):B(a).attr("value",B(i).html()))}),v(_),m(_),D(_),function(){if(0<B("#ckeditor").length){("undefined"==typeof ckEditorItems||""===ckEditorItems||ckEditorItems.length<=1)&&(ckEditorItems=["Cut","Copy","Paste","PasteText","PasteFromWord","-","Undo","Redo","Bold","Italic","Underline","Strike","Subscript","Superscript","Blockquote","-","RemoveFormat","NumberedList","BulletedList","Link","Unlink","Anchor","Image","FileUpload","Smiley","TextColor","BGColor"]),B.browser.mozilla&&CKEDITOR.on("instanceReady",function(t){t.editor.on("mode",function(t){"wysiwyg"===t.editor.mode&&(document.designMode="on",document.execCommand("enableObjectResizing",!1,!1),document.execCommand("enableInlineTableEditing",!1,!1),document.designMode="off")}),document.designMode="on",document.execCommand("enableObjectResizing",!1,!1),document.execCommand("enableInlineTableEditing",!1,!1),document.designMode="off"});try{CKEDITOR.instances.ckeditor&&CKEDITOR.instances.ckeditor.destroy(!0)}catch(t){}setTimeout(function(){CKEDITOR.replace("ckeditor",{toolbar:[{name:"all",items:ckEditorItems}],removePlugins:ckRemovePlugins||"",language:G.contaoLanguage,defaultLanguage:"en",disableObjectResizing:!0,filebrowserImageUploadUrl:G.contaoPath+"con4gis/upload/image",filebrowserUploadUrl:G.contaoPath+uploadApiUrl})},500)}}())),void 0!==d.usermessage&&(I="Usermessage","de"!==navigator.language&&"de-DE"!==navigator.language||(I="Benutzerhinweis"),E="",d.title&&(I=d.title),d.callback&&(T=d.callback),d.jump_after_message&&(E=d.jump_after_message),_=new window.AlertHandler,T&&E?_.showConfirmDialog(I,d.usermessage,E,T,"Ja","Nein","c4g__message_confirm_select"):T?_.showInfoActionDialog(I,d.usermessage,T,"c4g__message_confirm_simple"):E?_.showInfoActionDialog(I,d.usermessage,E,"c4g__message_confirm_redirect"):_.showInfoDialog(I,d.usermessage,"c4g__message_confirm_info")),void 0!==d.performaction&&p(G.ajaxData+"/"+d.performaction),void 0!==d.mapdata){for(var A in d.mapdata)d.mapdata.hasOwnProperty(A)&&(d.mapdata[A].mapDiv=d.mapdata[A].div,d.mapdata[A].addIdToDiv=!1);Array.isArray(d.mapdata)?window.initMaps(d.mapdata):(d.mapdata.addIdToDiv=!1,window.mapData=window.mapData||{},window.mapData[d.mapdata.id]=d.mapdata,window.initMap(window.mapData[d.mapdata.id])),d.locations&&0<d.locations.length&&(window.c4gMapsHooks=window.c4gMapsHooks||{},window.c4gMapsHooks.hook_layer=[],window.c4gMapsHooks.hook_layer.push(function(t){var a={features:[],type:"FeatureCollection",properties:{}};if(t.config.countAll++,0<=window.location.href.search("search")){for(var e,i,o=0;d.locations&&o<d.locations.length;o++)parseFloat(d.locations[o].geox)&&parseFloat(d.locations[o].geoy)&&(e=(e=window.location.href).replace("_search","_view"),e+=d.locations[o].id,s={geometry:{coordinates:[d.locations[o].geox,d.locations[o].geoy],type:"Point"},type:"Feature",properties:{name:d.locations[o].name,graphicTitle:"",projection:"EPSG:4326",popup:{async:!1,content:"<div><h1>"+d.locations[o].name+"</h1><p><strong>ID:</strong>"+d.locations[o].id+'</p><p><a href="'+e+'">Details</a></p></div>'},tooltip:""}},a.features.push(s));a&&a.features&&a.features.length&&(-1===(i=t.layer.findIndex(function(t){return 9999===t.id}))?(t.config.countAll++,t.layer.push({activeForBaselayers:"all",content:[{data:a,type:"GeoJSON",id:9999,locationStyle:"1"}],childs:[],childsCount:0,display:!0,id:9999,name:"TestHook",noFilter:"",noRealFilter:!1,type:"GeoJSON"})):t.layer[i]={activeForBaselayers:"all",content:[{data:a,type:"GeoJSON",id:9999,locationStyle:"1"}],childs:[],childsCount:0,display:!0,id:9999,name:"TestHook",noFilter:"",noRealFilter:!1,type:"GeoJSON"})}else{try{for(var n=B("div:nth-child(5) > div.cwc_dTable_wrapper > table > tbody > tr.cwc_dTable_additional > td > div:nth-child(3) > table > tbody > tr"),a={features:[],type:"FeatureCollection",properties:{}},o=0;o<n.length;o++){var r=parseFloat(n[o].cells[1].childNodes[1].data),c=parseFloat(n[o].cells[0].childNodes[1].data),s={geometry:{coordinates:[c,r],type:"Point"},type:"Feature",properties:{graphicTitle:"",projection:"EPSG:4326",popup:!1,tooltip:""}};a.features.push(s)}}catch(t){console.log(t)}r&&c&&t.layer.push({activeForBaselayers:"all",content:[{data:a,type:"GeoJSON",id:9999,locationStyle:"1"}],childs:[],childsCount:0,display:!0,id:9999,name:"TestHook",noFilter:"",noRealFilter:!1,type:"GeoJSON"})}}))}if(void 0!==d.cronexec&&null!=d.cronexec&&("string"==typeof(I=d.cronexec)&&(I=new Array(I)),B.each(I,function(t,a){B.ajax({url:G.ajaxUrl+"/"+G.ajaxData+"/cron:"+a,data:null,success:function(){},global:!1})})),void 0!==d.jump_to_url&&f(d.jump_to_url),R.projects.hook&&R.projects.hook.responseHandled&&0<R.projects.hook.responseHandled.length)for(let t=0;t<R.projects.hook.responseHandled.length;t++)"function"==typeof R.projects.hook.responseHandled[t]&&d.searchValue&&R.projects.hook.responseHandled[t]({searchValue:d.searchValue})}},fnDataTableColumnVis:function(i){var t;void 0!==i&&null!=i&&(null!=(t=i.settings())&&B(t.aoColumns).each(function(t,e){void 0!==e.c4gMinTableSize&&i.fnSetColumnVis(t,i.width()>=e.c4gMinTableSize,!1),void 0!==e.c4gMinTableSizeWidths&&B(e.c4gMinTableSizeWidths).each(function(t,a){if(i.width()>=a.tsize)return e.sWidthOrig!==a.width&&(e.sWidthOrig=a.width),!1})}),B("#top").hasClass("ie8")&&i.fnDraw())},fnCenterDiv:function(t){var e=B(t).parent().width(),i=0;B(t).children().each(function(t,a){if(i+=B(a).outerWidth(!0),e<i)return i-=B(a).outerWidth(!0),!1}),0<i&&B(t).css({margin:"0 auto",width:i+"px"})},fnInitContentDiv:function(){B(this.contentDiv).empty(),B(this.contentWrapperDiv+" div:not("+this.contentDiv+")").remove(),B(this.contentDiv).show()},fnHistoryPush:function(t){null!=history&&"function"==typeof historyPush&&historyPush(t,history,this)}})}(jQuery,window.c4g);
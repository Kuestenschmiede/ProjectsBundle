!function(){"use strict";void 0===Date.dp_locales&&(Date.dp_locales={texts:{buttonTitle:"Select date ...",buttonLabel:"Click or press the Enter key or the spacebar to open the calendar",prevButtonLabel:"Go to previous month",prevMonthButtonLabel:"Go to the previous year",prevYearButtonLabel:"Go to the previous twenty years",nextButtonLabel:"Go to next month",nextMonthButtonLabel:"Go to the next year",nextYearButtonLabel:"Go to the next twenty years",changeMonthButtonLabel:"Click or press the Enter key or the spacebar to change the month",changeYearButtonLabel:"Click or press the Enter key or the spacebar to change the year",changeRangeButtonLabel:"Click or press the Enter key or the spacebar to go to the next twenty years",closeButtonTitle:"Close",closeButtonLabel:"Close the calendar",calendarHelp:"- Up Arrow and Down Arrow - goes to the same day of the week in the previous or next week respectively. If the end of the month is reached, continues into the next or previous month as appropriate.\r\n- Left Arrow and Right Arrow - advances one day to the next, also in a continuum. Visually focus is moved from day to day and wraps from row to row in the grid of days.\r\n- Control+Page Up - Moves to the same date in the previous year.\r\n- Control+Page Down - Moves to the same date in the next year.\r\n- Home - Moves to the first day of the current month.\r\n- End - Moves to the last day of the current month.\r\n- Page Up - Moves to the same date in the previous month.\r\n- Page Down - Moves to the same date in the next month.\r\n- Enter or Espace - closes the calendar, and the selected date is shown in the associated text box.\r\n- Escape - closes the calendar without any action."},directionality:"LTR",month_names:["January","February","March","April","May","June","July","August","September","October","November","December"],month_names_abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],month_names_narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],day_names:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],day_names_abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],day_names_short:["Su","Mo","Tu","We","Th","Fr","Sa"],day_names_narrow:["S","M","T","W","T","F","S"],day_periods:{am:"AM",noon:"noon",pm:"PM"},day_periods_abbreviated:{am:"AM",noon:"noon",pm:"PM"},day_periods_narrow:{am:"a",noon:"n",pm:"p"},quarter_names:["1st quarter","2nd quarter","3rd quarter","4th quarter"],quarter_names_abbreviated:["Q1","Q2","Q3","Q4"],quarter_names_narrow:["1","2","3","4"],era_names:["Before Christ","Anno Domini"],era_names_abbreviated:["BC","AD"],era_names_narrow:["B","A"],full_format:"EEEE, MMMM d, y",long_format:"MMMM d, y",medium_format:"MMM d, y",short_format:"M/d/yy",firstday_of_week:0})}(),function(t){if("function"==typeof define&&define.amd)define(["jquery"],t);else if("object"==typeof exports)t(require("jquery"));else{if("undefined"==typeof jQuery)throw new Error("Datepicker's JavaScript requires jQuery");t(jQuery)}}(function(m,c){"use strict";var a=['<a class="datepicker-button bootstrap3 c4g__input-group-addon btn" role="button" aria-haspopup="true" tabindex="0" aria-labelledby="datepicker-bn-open-label-CALENDARID">','\t<span class="glyphicon glyphicon-calendar" title="Select Date..."></span>',"</a>"],s=['<div class="datepicker-calendar bootstrap3" id="datepicker-calendar-CALENDARID" aria-hidden="false">','\t<div class="datepicker-month-wrap">','\t\t<div class="datepicker-button datepicker-month-fast-next pull-right" role="button" aria-labelledby="datepicker-bn-fast-next-label-CALENDARID" tabindex="0"><span class="glyphicon glyphicon-forward"></span></div>','\t\t<div class="datepicker-button datepicker-month-next pull-right" role="button" aria-labelledby="datepicker-bn-next-label-CALENDARID" tabindex="0"><span class="glyphicon glyphicon-triangle-right"></span></div>','\t\t<div class="datepicker-button datepicker-month-fast-prev pull-left" role="button" aria-labelledby="datepicker-bn-fast-prev-label-CALENDARID" tabindex="0"><span class="glyphicon glyphicon-backward"></span></div>','\t\t<div class="datepicker-button datepicker-month-prev pull-left" role="button" aria-labelledby="datepicker-bn-prev-label-CALENDARID" tabindex="0"><span class="glyphicon glyphicon-triangle-left"></span></div>','\t\t<div id="datepicker-month-CALENDARID" class="datepicker-button datepicker-month" tabindex="0" role="heading" aria-live="assertive" aria-atomic="true" title="Click or press the Enter key or the spacebar to change the month">July 2015</div>',"\t</div>",'\t<table class="datepicker-grid" role="grid" aria-readonly="true" aria-activedescendant="datepicker-err-msg-CALENDARID" aria-labelledby="datepicker-month-CALENDARID" tabindex="0">','\t\t<thead role="presentation">','\t\t\t<tr class="datepicker-weekdays" role="row">','\t\t\t\t<th scope="col" id="day0-header-CALENDARID" class="datepicker-day" role="columnheader" aria-label="Sunday"><abbr title="Sunday">Su</abbr></th>','\t\t\t\t<th scope="col" id="day1-header-CALENDARID" class="datepicker-day" role="columnheader" aria-label="Monday"><abbr title="Monday">Mo</abbr></th>','\t\t\t\t<th scope="col" id="day2-header-CALENDARID" class="datepicker-day" role="columnheader" aria-label="Tuesday"><abbr title="Tuesday">Tu</abbr></th>','\t\t\t\t<th scope="col" id="day3-header-CALENDARID" class="datepicker-day" role="columnheader" aria-label="Wednesday"><abbr title="Wednesday">We</abbr></th>','\t\t\t\t<th scope="col" id="day4-header-CALENDARID" class="datepicker-day" role="columnheader" aria-label="Thursday"><abbr title="Thursday">Th</abbr></th>','\t\t\t\t<th scope="col" id="day5-header-CALENDARID" class="datepicker-day" role="columnheader" aria-label="Friday"><abbr title="Friday">Fr</abbr></th>','\t\t\t\t<th scope="col" id="day6-header-CALENDARID" class="datepicker-day" role="columnheader" aria-label="Saturday"><abbr title="Saturday">Sa</abbr></th>',"\t\t\t</tr>","\t\t</thead>",'\t\t<tbody role="presentation">',"\t\t\t<tr>",'\t\t\t\t<td id="datepicker-err-msg-CALENDARID" colspan="7">Javascript must be enabled</td>',"\t\t\t</tr>","\t\t</tbody>","\t</table>",'\t<div class="datepicker-close-wrap">','\t\t<button class="datepicker-button datepicker-close" id="datepicker-close-CALENDARID" aria-labelledby="datepicker-bn-close-label-CALENDARID">Close</button>',"\t</div>",'\t<div id="datepicker-bn-open-label-CALENDARID" class="datepicker-bn-open-label offscreen">Click or press the Enter key or the spacebar to open the calendar</div>','\t<div id="datepicker-bn-prev-label-CALENDARID" class="datepicker-bn-prev-label offscreen">Go to previous month</div>','\t<div id="datepicker-bn-next-label-CALENDARID" class="datepicker-bn-next-label offscreen">Go to next month</div>','\t<div id="datepicker-bn-fast-prev-label-CALENDARID" class="datepicker-bn-fast-prev-label offscreen">Go to previous year</div>','\t<div id="datepicker-bn-fast-next-label-CALENDARID" class="datepicker-bn-fast-next-label offscreen">Go to next year</div>','\t<div id="datepicker-bn-close-label-CALENDARID" class="datepicker-bn-close-label offscreen">Close the date picker</div>',"</div>"],r=['<a class="datepicker-button c4g__btn c4g__btn-secondary c4g__input-group-append" role="button" aria-haspopup="true" tabindex="0" aria-labelledby="datepicker-bn-open-label-CALENDARID">','\t<span class="c4g__input-group-text"><i class="far fa-calendar-alt" title="Select Date..."></i></span>',"</a>"],n=['<div class="datepicker-calendar bootstrap4" id="datepicker-calendar-CALENDARID" aria-hidden="false">','\t<div class="datepicker-month-wrap">','\t\t<div class="datepicker-button datepicker-month-fast-next float-right" role="button" aria-labelledby="datepicker-bn-fast-next-label-CALENDARID" tabindex="0"><i class="fas fa-forward"></i></div>','\t\t<div class="datepicker-button datepicker-month-next float-right" role="button" aria-labelledby="datepicker-bn-next-label-CALENDARID" tabindex="0"><i class="fas fa-caret-right"></i></div>','\t\t<div class="datepicker-button datepicker-month-fast-prev float-left" role="button" aria-labelledby="datepicker-bn-fast-prev-label-CALENDARID" tabindex="0"><i class="fas fa-backward"></i></div>','\t\t<div class="datepicker-button datepicker-month-prev float-left" role="button" aria-labelledby="datepicker-bn-prev-label-CALENDARID" tabindex="0"><i class="fas fa-caret-left"></i></div>','\t\t<div id="datepicker-month-CALENDARID" class="datepicker-button datepicker-month" tabindex="0" role="heading" aria-live="assertive" aria-atomic="true" title="Click or press the Enter key or the spacebar to change the month">July 2015</div>',"\t</div>",'\t<table class="datepicker-grid" role="grid" aria-readonly="true" aria-activedescendant="datepicker-err-msg-CALENDARID" aria-labelledby="datepicker-month-CALENDARID" tabindex="0">','\t\t<thead role="presentation">','\t\t\t<tr class="datepicker-weekdays" role="row">','\t\t\t\t<th scope="col" id="day0-header-CALENDARID" class="datepicker-day" role="columnheader" aria-label="Sunday"><abbr title="Sunday">Su</abbr></th>','\t\t\t\t<th scope="col" id="day1-header-CALENDARID" class="datepicker-day" role="columnheader" aria-label="Monday"><abbr title="Monday">Mo</abbr></th>','\t\t\t\t<th scope="col" id="day2-header-CALENDARID" class="datepicker-day" role="columnheader" aria-label="Tuesday"><abbr title="Tuesday">Tu</abbr></th>','\t\t\t\t<th scope="col" id="day3-header-CALENDARID" class="datepicker-day" role="columnheader" aria-label="Wednesday"><abbr title="Wednesday">We</abbr></th>','\t\t\t\t<th scope="col" id="day4-header-CALENDARID" class="datepicker-day" role="columnheader" aria-label="Thursday"><abbr title="Thursday">Th</abbr></th>','\t\t\t\t<th scope="col" id="day5-header-CALENDARID" class="datepicker-day" role="columnheader" aria-label="Friday"><abbr title="Friday">Fr</abbr></th>','\t\t\t\t<th scope="col" id="day6-header-CALENDARID" class="datepicker-day" role="columnheader" aria-label="Saturday"><abbr title="Saturday">Sa</abbr></th>',"\t\t\t</tr>","\t\t</thead>",'\t\t<tbody role="presentation">',"\t\t\t<tr>",'\t\t\t\t<td id="datepicker-err-msg-CALENDARID" colspan="7">Javascript must be enabled</td>',"\t\t\t</tr>","\t\t</tbody>","\t</table>",'\t<div class="datepicker-close-wrap">','\t\t<button class="datepicker-button datepicker-close" id="datepicker-close-CALENDARID" aria-labelledby="datepicker-bn-close-label-CALENDARID">Close</button>',"\t</div>",'\t<div id="datepicker-bn-open-label-CALENDARID" class="datepicker-bn-open-label offscreen">Click or press the Enter key or the spacebar to open the calendar</div>','\t<div id="datepicker-bn-prev-label-CALENDARID" class="datepicker-bn-prev-label offscreen">Go to previous month</div>','\t<div id="datepicker-bn-next-label-CALENDARID" class="datepicker-bn-next-label offscreen">Go to next month</div>','\t<div id="datepicker-bn-fast-prev-label-CALENDARID" class="datepicker-bn-fast-prev-label offscreen">Go to previous year</div>','\t<div id="datepicker-bn-fast-next-label-CALENDARID" class="datepicker-bn-fast-next-label offscreen">Go to next year</div>','\t<div id="datepicker-bn-close-label-CALENDARID" class="datepicker-bn-close-label offscreen">Close the date picker</div>',"</div>"],o=function(t,e){var i=this;this.$target=m(t),this.options=m.extend({},o.DEFAULTS,e),this.locales=Date.dp_locales,this.startview(this.options.startView),"string"==typeof this.options.inputFormat&&(this.options.inputFormat=[this.options.inputFormat]),Array.isArray(this.options.datesDisabled)||(this.options.datesDisabled=[this.options.datesDisabled]),m.each(this.options.datesDisabled,function(t,e){var a;"string"==typeof e?(a=i.parseDate(e),i.options.datesDisabled[t]=null===a?null:i.format(a)):e instanceof Date&&!isNaN(e.valueOf())?i.options.datesDisabled[t]=i.format(e):i.options.datesDisabled[t]=null}),null!=this.options.min?this.options.min=this.parseDate(this.options.min):this.$target.attr("min")&&(this.options.min=this.parseDate(this.$target.attr("min"))),null!=this.options.max?this.options.max=this.parseDate(this.options.max):this.$target.attr("max")&&(this.options.max=this.parseDate(this.$target.attr("max"))),"string"==typeof this.options.previous?this.options.previous=m(this.options.previous):this.options.previous instanceof jQuery||(this.options.previous=null),"string"==typeof this.options.next?this.options.next=m(this.options.next):this.options.next instanceof jQuery||(this.options.next=null),this.id=this.$target.attr("id")||"datepicker-"+Math.floor(1e5*Math.random());t=(t=("bootstrap3"==this.options.markup?s:n).join("")).replace(/CALENDARID/g,this.id+"");0==this.$target.parent(".c4g__input-group").length&&this.$target.wrap('<div class="c4g__input-group c4g__input-group-date formdata"></div>'),this.$group=this.$target.parent(".c4g__input-group"),this.$target.attr("aria-autocomplete","none"),this.$target.css("min-width","7em"),this.$target.addClass("c4g__form-control"),this.$target.attr("placeholder")||this.$target.attr("placeholder",this.options.inputFormat[0]);e=(e=("bootstrap3"==this.options.markup?a:r).join("")).replace(/CALENDARID/g,this.id+"");this.$button=m(e),this.$button.addClass(this.options.theme),this.$calendar=m(t),this.$calendar.addClass(this.options.theme),this.options.buttonLeft?this.$target.before(this.$button):this.$target.after(this.$button),"static"===this.$calendar.parent().css("position")&&this.$calendar.parent().css("position","relative"),this.$calendar.find(".datepicker-bn-open-label").html(this.options.buttonLabel),this.$target.attr("id")&&this.$calendar.attr("aria-controls",this.$target.attr("id")),this.$button.find("span").attr("title",this.options.buttonTitle),this.$calendar.css("left",this.$target.parent().position().left+"px"),this.$monthObj=this.$calendar.find(".datepicker-month"),this.$prev=this.$calendar.find(".datepicker-month-prev"),this.$next=this.$calendar.find(".datepicker-month-next"),this.$fastprev=this.$calendar.find(".datepicker-month-fast-prev"),this.$fastnext=this.$calendar.find(".datepicker-month-fast-next"),this.$grid=this.$calendar.find(".datepicker-grid"),"RTL"===this.locales.directionality&&this.$grid.addClass("rtl");this.$grid.find("th.datepicker-day abbr");this.drawCalendarHeader(),0==this.options.inline&&1==this.options.modal?(this.$close=this.$calendar.find(".datepicker-close"),this.$close.html(this.options.closeButtonTitle).attr("title",this.options.closeButtonLabel),this.$calendar.find(".datepicker-bn-close-label").html(this.options.closeButtonLabel)):(this.hideObject(this.$calendar.find(".datepicker-close-wrap")),this.hideObject(this.$calendar.find(".datepicker-bn-close-label"))),0!=this.options.inline?(this.hideObject(this.$button),("string"==typeof this.options.inline?m("#"+this.options.inline):this.options.inline).append(this.$calendar),this.$calendar.css({position:"relative",left:"0px"}),this.initializeDate()):(this.$calendar.css({display:"none"}),this.$target.parent().after(this.$calendar),this.hide(!this.options.gainFocusOnConstruction)),this.keys={tab:9,enter:13,esc:27,space:32,pageup:33,pagedown:34,end:35,home:36,left:37,up:38,right:39,down:40},this.bindHandlers(),this.$button.on("click",function(t){return m(this).hasClass("disabled")||("true"===i.$calendar.attr("aria-hidden")?(i.initializeDate(),i.show()):i.hide(),i.selectGridCell(i.$grid.attr("aria-activedescendant"))),t.stopPropagation(),!1}),this.$button.on("keydown",function(t){t=t||event;if(t.keyCode==i.keys.enter||t.keyCode==i.keys.space)return m(this).trigger("click"),!1}),this.$calendar.on("blur",function(t){"false"===i.$calendar.attr("aria-hidden")&&i.hide()})};o.VERSION="2.1.20",o.DEFAULTS={firstDayOfWeek:Date.dp_locales.firstday_of_week,weekDayFormat:"short",startView:0,daysOfWeekDisabled:[],datesDisabled:[],isDateDisabled:null,isMonthDisabled:null,isYearDisabled:null,inputFormat:[Date.dp_locales.short_format],outputFormat:Date.dp_locales.short_format,titleFormat:Date.dp_locales.full_format,buttonLeft:!1,buttonTitle:Date.dp_locales.texts.buttonTitle,buttonLabel:Date.dp_locales.texts.buttonLabel,prevButtonLabel:Date.dp_locales.texts.prevButtonLabel,prevMonthButtonLabel:Date.dp_locales.texts.prevMonthButtonLabel,prevYearButtonLabel:Date.dp_locales.texts.prevYearButtonLabel,nextButtonLabel:Date.dp_locales.texts.nextButtonLabel,nextMonthButtonLabel:Date.dp_locales.texts.nextMonthButtonLabel,nextYearButtonLabel:Date.dp_locales.texts.nextYearButtonLabel,changeMonthButtonLabel:Date.dp_locales.texts.changeMonthButtonLabel,changeYearButtonLabel:Date.dp_locales.texts.changeYearButtonLabel,changeRangeButtonLabel:Date.dp_locales.texts.changeRangeButtonLabel,closeButtonTitle:Date.dp_locales.texts.closeButtonTitle,closeButtonLabel:Date.dp_locales.texts.closeButtonLabel,onUpdate:function(t){},previous:null,next:null,allowSameDate:!0,markup:"bootstrap3",theme:"default",modal:!1,inline:!1,gainFocusOnConstruction:!0,min:null,max:null},o.prototype.initializeDate=function(){var t=this.$target.val(),t=""===t?new Date:this.parseDate(t);this.setDate(t,!0)},o.prototype.getDate=function(){var t=this.$target.val();return""===t?new Date:this.parseDate(t)},o.prototype.setDate=function(t,e){switch(this.dateObj=t,e=void 0!==e&&e,null==this.dateObj&&(this.$target.attr("aria-invalid",!0),this.$target.parents(".form-group").addClass("has-error"),this.dateObj=new Date,this.dateObj.setHours(0,0,0,0)),null!=this.options.min&&this.dateObj<this.options.min?(this.$target.attr("aria-invalid",!0),this.$target.parents(".form-group").addClass("has-error"),this.dateObj=this.options.min):null!=this.options.max&&this.dateObj>this.options.max&&(this.$target.attr("aria-invalid",!0),this.$target.parents(".form-group").addClass("has-error"),this.dateObj=this.options.max),e&&""==this.$target.val()||this.$target.val(this.format(this.dateObj)),this.curYear=this.dateObj.getFullYear(),this.year=this.curYear,this.curMonth=this.dateObj.getMonth(),this.month=this.curMonth,this.date=this.dateObj.getDate(),this.options.startView){case 1:this.populateMonthsCalendar(),this.$grid.attr("aria-activedescendant",this.$grid.find(".curMonth").attr("id"));break;case 2:this.populateYearsCalendar(),this.$grid.attr("aria-activedescendant",this.$grid.find(".curYear").attr("id"));break;default:this.populateDaysCalendar(),this.$grid.attr("aria-activedescendant",this.$grid.find(".curDay").attr("id"))}},o.prototype.drawCalendarHeader=function(){for(var t=this.$grid.find("th.datepicker-day"),e=this.options.firstDayOfWeek,a=0;a<7;a++)t.eq(a).attr("aria-label",this.locales.day_names[e]),t.children("abbr").eq(a).attr("title",this.locales.day_names[e]).text(("short"===this.options.weekDayFormat?this.locales.day_names_short:this.locales.day_names_narrow)[e]),e=(e+1)%7},o.prototype.populateDaysCalendar=function(){this.$calendar.find(".datepicker-bn-prev-label").html(this.options.prevButtonLabel),this.$calendar.find(".datepicker-bn-next-label").html(this.options.nextButtonLabel),this.$calendar.find(".datepicker-bn-fast-prev-label").html(this.options.prevMonthButtonLabel),this.$calendar.find(".datepicker-bn-fast-next-label").html(this.options.nextMonthButtonLabel),null!=this.options.min&&(this.year-1<this.options.min.getFullYear()||this.year-1==this.options.min.getFullYear()&&this.month<this.options.min.getMonth())?(this.$fastprev.attr("title",""),this.$fastprev.addClass("disabled"),this.$fastprev.removeClass("enabled")):(this.$fastprev.attr("title",this.options.prevMonthButtonLabel),this.$fastprev.addClass("enabled"),this.$fastprev.removeClass("disabled"));var t=this.previousMonth(this.year,this.month);null!=this.options.min&&(t.year<this.options.min.getFullYear()||t.year==this.options.min.getFullYear()&&t.month<this.options.min.getMonth())?(this.$prev.attr("title",""),this.$prev.addClass("disabled"),this.$prev.removeClass("enabled")):(this.$prev.attr("title",this.options.prevButtonLabel),this.$prev.addClass("enabled"),this.$prev.removeClass("disabled")),this.$monthObj.attr("title",this.options.changeMonthButtonLabel);var e=this.nextMonth(this.year,this.month);null!=this.options.max&&(e.year>this.options.max.getFullYear()||e.year==this.options.max.getFullYear()&&e.month>this.options.max.getMonth())?(this.$next.attr("title",""),this.$next.addClass("disabled"),this.$next.removeClass("enabled")):(this.$next.attr("title",this.options.nextButtonLabel),this.$next.addClass("enabled"),this.$next.removeClass("disabled")),null!=this.options.max&&(this.year+1>this.options.max.getFullYear()||this.year+1==this.options.max.getFullYear()&&this.month>this.options.max.getMonth())?(this.$fastnext.attr("title",""),this.$fastnext.addClass("disabled"),this.$fastnext.removeClass("enabled")):(this.$fastnext.attr("title",this.options.nextMonthButtonLabel),this.$fastnext.addClass("enabled"),this.$fastnext.removeClass("disabled")),this.showObject(this.$fastprev),this.showObject(this.$fastnext);var a=this.getDaysInMonth(this.year,this.month),i=this.getDaysInMonth(t.year,t.month),s=new Date(this.year,this.month,1).getDay(),r=(this.options.firstDayOfWeek+6)%7,n=1,o=1;this.$monthObj.html(this.locales.month_names[this.month]+" "+this.year),this.showObject(this.$grid.find("thead"));for(var l='\t<tr id="row0-'+this.id+'" role="row">\n',h=0,d=this.options.firstDayOfWeek;d!=s;)h++,d=(d+1)%7;for(;0<h;h--)l+='\t\t<td class="empty">'+(i-h+1)+"</td>\n";for(var c=this.options.isYearDisabled&&this.options.isYearDisabled(this.year),p=this.options.isMonthDisabled&&this.options.isMonthDisabled(this.year,this.month+1),n=1;n<=a;n++){var u=new Date(this.year,this.month,n,0,0,0,0),b=this.formatDate(u,this.options.titleFormat),y=n==this.date&&this.month==this.curMonth&&this.year==this.curYear?" curDay":"";c||p||-1<m.inArray(d,this.options.daysOfWeekDisabled)||null!=this.options.min&&u<this.options.min||null!=this.options.max&&u>this.options.max||-1<m.inArray(this.format(u),this.options.datesDisabled)||this.options.isDateDisabled&&this.options.isDateDisabled(u)?l+='\t\t<td id="cell'+n+"-"+this.id+'" class="day unselectable'+y+'"':l+='\t\t<td id="cell'+n+"-"+this.id+'" class="day selectable'+y+'"',l+=' data-value="'+n+'"',l+=' title="'+b+'"',l+=' aria-label="'+b+'"',l+=' headers="day'+d+"-header-"+this.id+'" role="gridcell" tabindex="-1" aria-selected="false">'+n,l+="</td>",d==r&&n<a&&(l+='\t</tr>\n\t<tr id="row'+o+"-"+this.id+'" role="row">\n',o++),n<a&&(d=(d+1)%7)}for(;d!=r;)l+='\t\t<td class="empty">'+ ++h+"</td>\n",d=(d+1)%7;l+="\t</tr>";t=this.$grid.find("tbody");t.empty(),t.append(l),this.gridType=0},o.prototype.populateMonthsCalendar=function(){this.$calendar.find(".datepicker-bn-prev-label").html(this.options.prevMonthButtonLabel),this.$calendar.find(".datepicker-bn-next-label").html(this.options.nextMonthButtonLabel),this.hideObject(this.$fastprev),this.hideObject(this.$fastnext),null!=this.options.min&&this.year-1<this.options.min.getFullYear()?(this.$prev.attr("title",""),this.$prev.addClass("disabled"),this.$prev.removeClass("enabled")):(this.$prev.attr("title",this.options.prevMonthButtonLabel),this.$prev.addClass("enabled"),this.$prev.removeClass("disabled")),this.$monthObj.attr("title",this.options.changeYearButtonLabel),null!=this.options.max&&this.year+1>this.options.max.getFullYear()?(this.$next.attr("title",""),this.$next.addClass("disabled"),this.$next.removeClass("enabled")):(this.$next.attr("title",this.options.nextMonthButtonLabel),this.$next.addClass("enabled"),this.$next.removeClass("disabled"));var t=0,e=1,a=this.$grid.find("tbody");this.$monthObj.html(this.year),this.hideObject(this.$grid.find("thead")),a.empty(),m("#datepicker-err-msg-"+this.id).empty();for(var i='\t<tr id="row0-'+this.id+'" role="row">\n',s=this.options.isYearDisabled&&this.options.isYearDisabled(this.year),t=0;t<12;t++)s?i+='\t\t<td id="cell'+(t+1)+"-"+this.id+'" class="month unselectable"':t==this.month&&this.year==this.curYear?i+='\t\t<td id="cell'+(t+1)+"-"+this.id+'" class="month curMonth selectable"':null!=this.options.min&&(this.year<this.options.min.getFullYear()||this.year==this.options.min.getFullYear()&&t<this.options.min.getMonth())||null!=this.options.max&&(this.year>this.options.max.getFullYear()||this.year==this.options.max.getFullYear()&&t>this.options.max.getMonth())||this.options.isMonthDisabled&&this.options.isMonthDisabled(this.year,t+1)?i+='\t\t<td id="cell'+(t+1)+"-"+this.id+'" class="month unselectable"':i+='\t\t<td id="cell'+(t+1)+"-"+this.id+'" class="month selectable"',i+=' data-value="'+t+'"',i+=' title="'+this.locales.month_names[t]+" "+this.year+'"',i+=' aria-label="'+this.locales.month_names[t]+" "+this.year+'"',i+=' role="gridcell" tabindex="-1" aria-selected="false">'+this.locales.month_names_abbreviated[t],i+="</td>",3!=t&&7!=t||(i+='\t</tr>\n\t<tr id="row'+e+"-"+this.id+'" role="row">\n',e++);a.append(i+="\t</tr>"),this.gridType=1},o.prototype.populateYearsCalendar=function(){this.$calendar.find(".datepicker-bn-prev-label").html(this.options.prevYearButtonLabel),this.$calendar.find(".datepicker-bn-next-label").html(this.options.nextYearButtonLabel),this.hideObject(this.$fastprev),this.hideObject(this.$fastnext),null!=this.options.min&&this.year-20<this.options.min.getFullYear()?(this.$prev.attr("title",""),this.$prev.addClass("disabled"),this.$prev.removeClass("enabled")):(this.$prev.attr("title",this.options.prevYearButtonLabel),this.$prev.addClass("enabled"),this.$prev.removeClass("disabled")),this.$monthObj.attr("title",this.options.changeRangeButtonLabel),null!=this.options.max&&this.year+20>this.options.max.getFullYear()?(this.$next.attr("title",""),this.$next.addClass("disabled"),this.$next.removeClass("enabled")):(this.$next.attr("title",this.options.nextYearButtonLabel),this.$next.addClass("enabled"),this.$next.removeClass("disabled"));var t=10*Math.floor(this.year/10),e=19+t,a=1,i=this.$grid.find("tbody");this.$monthObj.html(t+"-"+e),this.hideObject(this.$grid.find("thead")),i.empty(),m("#datepicker-err-msg-"+this.id).empty();for(var s='\t<tr id="row0-'+this.id+'" role="row">\n',r=t;r<=e;r++){r==this.year?s+='\t\t<td id="cell'+(r-t+1)+"-"+this.id+'" class="year curYear selectable"':null!=this.options.min&&r<this.options.min.getFullYear()||null!=this.options.max&&r>this.options.max.getFullYear()||this.options.isYearDisabled&&this.options.isYearDisabled(r)?s+='\t\t<td id="cell'+(r-t+1)+"-"+this.id+'" class="year unselectable"':s+='\t\t<td id="cell'+(r-t+1)+"-"+this.id+'" class="year selectable"',s+=' data-value="'+r+'"',s+=' title="'+r+'"',s+=' role="gridcell" tabindex="-1" aria-selected="false">'+r,s+="</td>";var n=r-t;4!=n&&9!=n&&14!=n||(s+='\t</tr>\n\t<tr id="row'+a+"-"+this.id+'" role="row">\n',a++)}i.append(s+="\t</tr>"),this.gridType=2},o.prototype.showDaysOfPrevMonth=function(t){var e=this.previousMonth(this.year,this.month);if(null!=this.options.min&&(e.year<this.options.min.getFullYear()||e.year==this.options.min.getFullYear()&&e.month<this.options.min.getMonth()))return!1;if(this.month=e.month,this.year=e.year,this.populateDaysCalendar(),null!=t){var a=this.$grid.find("td");for(t=a.length-t;0<=t&&!a.eq(t).hasClass("selectable");)t--;0<=t&&(e=a.eq(t).attr("id"),this.$grid.attr("aria-activedescendant",e),this.selectGridCell(e))}return!0},o.prototype.showDaysOfMonth=function(t){if(null!=this.options.min&&(this.year<this.options.min.getFullYear()||this.year==this.options.min.getFullYear()&&t<this.options.min.getMonth()))return!1;if(null!=this.options.max&&(this.year>this.options.max.getFullYear()||this.year==this.options.max.getFullYear()&&t>this.options.max.getMonth()))return!1;this.month=t,this.date=Math.min(this.date,this.getDaysInMonth(this.year,this.month)),this.populateDaysCalendar();t=this.$grid.find("tbody td[data-value='"+this.date+"']");return this.selectGridCell(t.attr("id")),!0},o.prototype.showMonthsOfPrevYear=function(t){if(null!=this.options.min&&this.year-1<this.options.min.getFullYear())return!1;if(this.year--,this.populateMonthsCalendar(),null!=t){var e,a=this.$grid.find("td");for(t=a.length-t;0<=t&&!a.eq(t).hasClass("selectable");)t--;0<=t&&(e=a.eq(t).attr("id"),this.$grid.attr("aria-activedescendant",e),this.selectGridCell(e))}return!0},o.prototype.showMonthsOfYear=function(t){if(null!=this.options.min&&t<this.options.min.getFullYear())return!1;if(null!=this.options.max&&t>this.options.max.getFullYear())return!1;this.year=t,this.populateMonthsCalendar();t=this.$grid.find("tbody td[data-value='"+this.month+"']");return this.$grid.attr("aria-activedescendant",t.attr("id")),this.selectGridCell(t.attr("id")),!0},o.prototype.showYearsOfPrevRange=function(t){if(null!=this.options.min&&this.year-20<this.options.min.getFullYear())return!1;if(this.year-=20,this.populateYearsCalendar(),null!=t){var e,a=this.$grid.find("td");for(t=a.length-t;0<=t&&!a.eq(t).hasClass("selectable");)t--;0<=t&&(e=a.eq(t).attr("id"),this.$grid.attr("aria-activedescendant",e),this.selectGridCell(e))}return!0},o.prototype.showDaysOfNextMonth=function(t){var e=this.nextMonth(this.year,this.month);if(null!=this.options.max&&(e.year>this.options.max.getFullYear()||e.year==this.options.max.getFullYear()&&e.month>this.options.max.getMonth()))return!1;if(this.month=e.month,this.year=e.year,this.populateDaysCalendar(),null!=t){var a=this.$grid.find("td");for(t--;t<a.length&&!a.eq(t).hasClass("selectable");)t++;t<a.length&&(e=a.eq(t).attr("id"),this.$grid.attr("aria-activedescendant",e),this.selectGridCell(e))}return!0},o.prototype.showMonthsOfNextYear=function(t){if(null!=this.options.max&&this.year+1>this.options.max.getFullYear())return!1;if(this.year++,this.populateMonthsCalendar(),null!=t){var e,a=this.$grid.find("td");for(t--;t<a.length&&!a.eq(t).hasClass("selectable");)t++;t<a.length&&(e=a.eq(t).attr("id"),this.$grid.attr("aria-activedescendant",e),this.selectGridCell(e))}return!0},o.prototype.showYearsOfNextRange=function(t){if(null!=this.options.max&&this.year+20>this.options.max.getFullYear())return!1;if(this.year+=20,this.populateYearsCalendar(),null!=t){var e,a=this.$grid.find("td");for(t--;t<a.length&&!a.eq(t).hasClass("selectable");)t++;t<a.length&&(e=a.eq(t).attr("id"),this.$grid.attr("aria-activedescendant",e),this.selectGridCell(e))}return!0},o.prototype.showDaysOfPrevYear=function(){return(null==this.options.min||!(this.year-1<this.options.min.getFullYear()||this.year-1==this.options.min.getFullYear()&&this.month<this.options.min.getMonth()))&&(this.year--,this.populateDaysCalendar(),!0)},o.prototype.showDaysOfNextYear=function(){return(null==this.options.max||!(this.year+1>this.options.max.getFullYear()||this.year+1==this.options.max.getFullYear()&&this.month>this.options.max.getMonth()))&&(this.year++,this.populateDaysCalendar(),!0)},o.prototype.bindHandlers=function(){var a=this;this.$fastprev.on("click",function(t){return a.handleFastPrevClick(t)}),this.$prev.on("click",function(t){return a.handlePrevClick(t)}),this.$next.on("click",function(t){return a.handleNextClick(t)}),this.$fastnext.on("click",function(t){return a.handleFastNextClick(t)}),this.$monthObj.on("click",function(t){return a.handleMonthClick(t)}),this.$monthObj.on("keydown",function(t){return a.handleMonthKeyDown(t)}),this.$fastprev.on("keydown",function(t){return a.handleFastPrevKeyDown(t)}),this.$prev.on("keydown",function(t){return a.handlePrevKeyDown(t)}),this.$next.on("keydown",function(t){return a.handleNextKeyDown(t)}),this.$fastnext.on("keydown",function(t){return a.handleFastNextKeyDown(t)}),1==this.options.modal&&(this.$close.on("click",function(t){return a.handleCloseClick(t)}),this.$close.on("keydown",function(t){return a.handleCloseKeyDown(t)})),this.$grid.on("keydown",function(t){return a.handleGridKeyDown(t)}),this.$grid.on("keypress",function(t){return a.handleGridKeyPress(t)}),this.$grid.on("focus",function(t){return a.handleGridFocus(t)}),this.$grid.on("blur",function(t){return a.handleGridBlur(t)}),this.$grid.on("click","td",function(t){return a.handleGridClick(this,t)}),this.$target.on("change",function(t){var e=a.parseDate(m(this).val());a.updateLinked(e)})},o.prototype.handleFastPrevClick=function(t){var e;return this.showDaysOfPrevYear()&&(e=this.$grid.attr("aria-activedescendant"),this.month!=this.curMonth||this.year!=this.curYear?(this.$grid.attr("aria-activedescendant","cell1-"+this.id),this.selectGridCell("cell1-"+this.id)):(this.$grid.attr("aria-activedescendant",e),this.selectGridCell(e))),t.stopPropagation(),!1},o.prototype.handlePrevClick=function(t){var e=this.$grid.attr("aria-activedescendant");switch(this.gridType){case 0:var a=t.ctrlKey?this.showDaysOfPrevYear():this.showDaysOfPrevMonth();a&&(this.month!=this.curMonth||this.year!=this.curYear?(this.$grid.attr("aria-activedescendant","cell1-"+this.id),this.selectGridCell("cell1-"+this.id)):(this.$grid.attr("aria-activedescendant",e),this.selectGridCell(e)));break;case 1:this.showMonthsOfPrevYear()&&(this.year!=this.curYear?(this.$grid.attr("aria-activedescendant","cell1-"+this.id),this.selectGridCell("cell1-"+this.id)):(this.$grid.attr("aria-activedescendant",e),this.selectGridCell(e)));break;case 2:this.showYearsOfPrevRange()&&(this.$grid.attr("aria-activedescendant","cell1-"+this.id),this.selectGridCell("cell1-"+this.id))}return t.stopPropagation(),!1},o.prototype.handleMonthClick=function(t){return this.changeGrid(t),t.stopPropagation(),!1},o.prototype.handleNextClick=function(t){var e=this.$grid.attr("aria-activedescendant");switch(this.gridType){case 0:var a=t.ctrlKey?this.showDaysOfNextYear():this.showDaysOfNextMonth();a&&(this.month!=this.curMonth||this.year!=this.curYear?(this.$grid.attr("aria-activedescendant","cell1-"+this.id),this.selectGridCell("cell1-"+this.id)):(this.$grid.attr("aria-activedescendant",e),this.selectGridCell(e)));break;case 1:this.showMonthsOfNextYear()&&(this.year!=this.curYear?(this.$grid.attr("aria-activedescendant","cell1-"+this.id),this.selectGridCell("cell1-"+this.id)):(this.$grid.attr("aria-activedescendant",e),this.selectGridCell(e)));break;case 2:this.showYearsOfNextRange()&&(this.$grid.attr("aria-activedescendant","cell1-"+this.id),this.selectGridCell("cell1-"+this.id))}return t.stopPropagation(),!1},o.prototype.handleFastNextClick=function(t){var e;return this.showDaysOfNextYear()&&(e=this.$grid.attr("aria-activedescendant"),this.month!=this.curMonth||this.year!=this.curYear?(this.$grid.attr("aria-activedescendant","cell1-"+this.id),this.selectGridCell("cell1-"+this.id)):(this.$grid.attr("aria-activedescendant",e),this.selectGridCell(e))),t.stopPropagation(),!1},o.prototype.handleCloseClick=function(t){return this.hide(),t.stopPropagation(),!1},o.prototype.handleFastPrevKeyDown=function(t){if(t.altKey)return!0;switch(t.keyCode){case this.keys.tab:return!(0!=this.options.modal&&!t.ctrlKey)||((t.shiftKey?this.$close:this.$prev).trigger("focus"),t.stopPropagation(),!1);case this.keys.enter:case this.keys.space:return!(!t.shiftKey&&!t.ctrlKey)||(this.showDaysOfPrevYear(),t.stopPropagation(),!1);case this.keys.esc:return this.hide(),t.stopPropagation(),!1}return!0},o.prototype.handlePrevKeyDown=function(t){if(t.altKey)return!0;switch(t.keyCode){case this.keys.tab:return!(0!=this.options.modal&&!t.ctrlKey)||((t.shiftKey?0==this.gridType?this.$fastprev:this.$close:this.$monthObj).trigger("focus"),t.stopPropagation(),!1);case this.keys.enter:case this.keys.space:if(t.shiftKey)return!0;switch(this.gridType){case 0:t.ctrlKey?this.showDaysOfPrevYear():this.showDaysOfPrevMonth();break;case 1:this.showMonthsOfPrevYear();break;case 2:this.showYearsOfPrevRange()}return t.stopPropagation(),!1;case this.keys.esc:return this.hide(),t.stopPropagation(),!1}return!0},o.prototype.handleMonthKeyDown=function(t){if(t.altKey)return!0;switch(t.keyCode){case this.keys.tab:return!(0!=this.options.modal&&!t.ctrlKey)||((t.shiftKey?this.$prev:this.$next).trigger("focus"),t.stopPropagation(),!1);case this.keys.enter:case this.keys.space:return this.changeGrid(t),t.stopPropagation(),!1;case this.keys.esc:return this.hide(),t.stopPropagation(),!1}return!0},o.prototype.handleNextKeyDown=function(t){if(t.altKey)return!0;switch(t.keyCode){case this.keys.tab:return!(0!=this.options.modal&&!t.ctrlKey)||(t.shiftKey?this.$monthObj.focus():(0==this.gridType?this.$fastnext:this.$grid).trigger("focus"),t.stopPropagation(),!1);case this.keys.enter:case this.keys.space:switch(this.gridType){case 0:t.ctrlKey?this.showDaysOfNextYear():this.showDaysOfNextMonth();break;case 1:this.showMonthsOfNextYear();break;case 2:this.showYearsOfNextRange()}return t.stopPropagation(),!1;case this.keys.esc:return this.hide(),t.stopPropagation(),!1}return!0},o.prototype.handleFastNextKeyDown=function(t){if(t.altKey)return!0;switch(t.keyCode){case this.keys.tab:return!(0!=this.options.modal&&!t.ctrlKey)||((t.shiftKey?this.$next:this.$grid).trigger("focus"),t.stopPropagation(),!1);case this.keys.enter:case this.keys.space:return this.showDaysOfNextYear(),t.stopPropagation(),!1;case this.keys.esc:return this.hide(),t.stopPropagation(),!1}return!0},o.prototype.handleCloseKeyDown=function(t){if(t.altKey)return!0;switch(t.keyCode){case this.keys.tab:return!!t.ctrlKey||(t.shiftKey?this.$grid.focus():(0==this.gridType?this.$fastprev:this.$prev).trigger("focus"),t.stopPropagation(),!1);case this.keys.enter:case this.keys.esc:case this.keys.space:return!(!t.shiftKey&&!t.ctrlKey)||(this.hide(),t.stopPropagation(),!1)}return!0},o.prototype.handleGridKeyDown=function(t){var e=m("#"+this.$grid.attr("aria-activedescendant")),a=this.$grid.find("td.selectable"),i=this.$grid.find("tbody tr").eq(0).find("td").length;if(t.altKey&&t.keyCode!=this.keys.pageup&&t.keyCode!=this.keys.pagedown)return!0;switch(t.keyCode){case this.keys.tab:return 1==this.options.modal?(t.shiftKey?0==this.gridType?this.$fastnext:this.$next:this.$close).trigger("focus"):(this.hide(),this.handleTabOut(t)),t.stopPropagation(),!1;case this.keys.enter:case this.keys.space:if(t.ctrlKey)return!0;switch(this.gridType){case 0:this.update(),this.hide();break;case 1:this.showDaysOfMonth(parseInt(e.attr("data-value"),10));break;case 2:this.showMonthsOfYear(parseInt(e.attr("data-value"),10))}return t.stopPropagation(),!1;case this.keys.esc:return this.hide(),t.stopPropagation(),!1;case this.keys.left:case this.keys.right:if(t.keyCode==this.keys.left&&"LTR"===this.locales.directionality||t.keyCode==this.keys.right&&"RTL"===this.locales.directionality){if(t.ctrlKey||t.shiftKey)return!0;var s=null;if(0<=(n=a.index(e)-1))s=a.eq(n),this.unSelectGridCell(e.attr("id")),this.$grid.attr("aria-activedescendant",s.attr("id")),this.selectGridCell(s.attr("id"));else switch(this.gridType){case 0:this.showDaysOfPrevMonth(0);break;case 1:this.showMonthsOfPrevYear(0);break;case 2:this.showYearsOfPrevRange(0)}return t.stopPropagation(),!1}if(t.ctrlKey||t.shiftKey)return!0;var r=null;if((n=a.index(e)+1)<a.length)r=a.eq(n),this.unSelectGridCell(e.attr("id")),this.$grid.attr("aria-activedescendant",r.attr("id")),this.selectGridCell(r.attr("id"));else switch(this.gridType){case 0:this.showDaysOfNextMonth(1);break;case 1:this.showMonthsOfNextYear(1);break;case 2:this.showYearsOfNextRange(1)}return t.stopPropagation(),!1;case this.keys.up:if(t.ctrlKey||t.shiftKey)return!0;for(var n=(o=this.$grid.find("td")).index(e)-i,s=null;0<=n&&!o.eq(n).hasClass("selectable");)n--;if(0<=n)s=o.eq(n),this.unSelectGridCell(e.attr("id")),this.$grid.attr("aria-activedescendant",s.attr("id")),this.selectGridCell(s.attr("id"));else switch(n=i-o.index(e)%i,this.gridType){case 0:this.showDaysOfPrevMonth(n);break;case 1:this.showMonthsOfPrevYear(n);break;case 2:this.showYearsOfPrevRange(n)}return t.stopPropagation(),!1;case this.keys.down:if(t.ctrlKey||t.shiftKey)return!0;for(var o,n=(o=this.$grid.find("td")).index(e)+i;n<o.length&&!o.eq(n).hasClass("selectable");)n++;if(n<o.length){r=o.eq(n);this.unSelectGridCell(e.attr("id")),this.$grid.attr("aria-activedescendant",r.attr("id")),this.selectGridCell(r.attr("id"))}else switch(n=o.index(e)%i+1,this.gridType){case 0:this.showDaysOfNextMonth(n);break;case 1:this.showMonthsOfNextYear(n);break;case 2:this.showYearsOfNextRange(n)}return t.stopPropagation(),!1;case this.keys.pageup:var l=this.$grid.attr("aria-activedescendant");if(t.shiftKey||t.ctrlKey)return!0;t.preventDefault();var h=!1;switch(this.gridType){case 0:h=t.altKey?(t.stopImmediatePropagation(),this.showDaysOfPrevYear()):this.showDaysOfPrevMonth();break;case 1:h=this.showMonthsOfPrevYear();break;case 2:h=this.showYearsOfPrevRange()}return h&&(m("#"+l).attr("id")==c?(d=(a=this.$grid.find("td.selectable")).eq(a.length-1),this.$grid.attr("aria-activedescendant",d.attr("id")),this.selectGridCell(d.attr("id"))):this.selectGridCell(l)),t.stopPropagation(),!1;case this.keys.pagedown:l=this.$grid.attr("aria-activedescendant");if(t.shiftKey||t.ctrlKey)return!0;t.preventDefault();h=!1;switch(this.gridType){case 0:h=t.altKey?(t.stopImmediatePropagation(),this.showDaysOfNextYear()):this.showDaysOfNextMonth();break;case 1:h=this.showMonthsOfNextYear();break;case 2:h=this.showYearsOfNextRange()}return h&&(m("#"+l).attr("id")==c?(d=(a=this.$grid.find("td.selectable")).eq(a.length-1),this.$grid.attr("aria-activedescendant",d.attr("id")),this.selectGridCell(d.attr("id"))):this.selectGridCell(l)),t.stopPropagation(),!1;case this.keys.home:if(t.ctrlKey||t.shiftKey)return!0;l=a.eq(0);return this.unSelectGridCell(e.attr("id")),this.$grid.attr("aria-activedescendant",l.attr("id")),this.selectGridCell(l.attr("id")),t.stopPropagation(),!1;case this.keys.end:if(t.ctrlKey||t.shiftKey)return!0;var d=a.eq(a.length-1);return this.unSelectGridCell(e.attr("id")),this.$grid.attr("aria-activedescendant",d.attr("id")),this.selectGridCell(d.attr("id")),t.stopPropagation(),!1}return!0},o.prototype.handleGridKeyPress=function(t){if(t.altKey)return!0;switch(t.keyCode){case this.keys.tab:case this.keys.enter:case this.keys.space:case this.keys.esc:case this.keys.left:case this.keys.right:case this.keys.up:case this.keys.down:case this.keys.pageup:case this.keys.pagedown:case this.keys.home:case this.keys.end:return t.stopPropagation(),!1}return!0},o.prototype.handleGridClick=function(t,e){var a=m(t);if(a.is(".empty")||a.is(".unselectable"))return!0;switch(this.$grid.find(".focus").removeClass("focus").attr("aria-selected","false").attr("tabindex",-1),this.gridType){case 0:this.$grid.attr("aria-activedescendant",a.attr("id")),this.selectGridCell(a.attr("id")),this.update(),this.hide();break;case 1:this.showDaysOfMonth(parseInt(a.attr("data-value"),10));break;case 2:this.showMonthsOfYear(parseInt(a.attr("data-value"),10))}return e.stopPropagation(),!1},o.prototype.handleGridFocus=function(t){var e,a=this.$grid.attr("aria-activedescendant");return m("#"+a).attr("id")==c?(e=(e=this.$grid.find("td.selectable")).eq(e.length-1),this.$grid.attr("aria-activedescendant",e.attr("id")),this.selectGridCell(e.attr("id"))):this.selectGridCell(a),!0},o.prototype.handleGridBlur=function(t){return this.unSelectGridCell(this.$grid.attr("aria-activedescendant")),!0},o.prototype.handleTabOut=function(t){var e=m("body").find(":input:visible:not([disabled], .datepicker-button), a[href]:visible:not([disabled], .datepicker-button)"),a=e.index(this.$target);return-1<a&&a<e.length&&(t.shiftKey?0<a&&a--:a+1<e.length&&a++,e.eq(a).focus()),!0},o.prototype.changeGrid=function(t){switch(this.gridType){case 0:this.populateMonthsCalendar(),this.year!=this.curYear?(e=this.$grid.find("td.selectable"),this.$grid.attr("aria-activedescendant",e.eq(0).attr("id"))):this.$grid.attr("aria-activedescendant",this.$grid.find(".curMonth").attr("id")),this.selectGridCell(this.$grid.attr("aria-activedescendant"));break;case 2:t.shiftKey?this.year-=20:this.year+=20;case 1:var e;this.populateYearsCalendar(),this.year!=this.curYear?(e=this.$grid.find("td.selectable"),this.$grid.attr("aria-activedescendant",e.eq(0).attr("id"))):this.$grid.attr("aria-activedescendant",this.$grid.find(".curYear").attr("id")),this.selectGridCell(this.$grid.attr("aria-activedescendant"))}return!0},o.prototype.selectGridCell=function(t){m("#"+t).addClass("focus").attr("aria-selected","true").attr("tabindex",0).focus()},o.prototype.unSelectGridCell=function(t){m("#"+t).removeClass("focus").attr("aria-selected","false").attr("tabindex",-1)},o.prototype.update=function(){var t=m("#"+this.$grid.attr("aria-activedescendant")),t=new Date(this.year,this.month,parseInt(t.attr("data-value"),10)),t=this.formatDate(t,this.options.outputFormat);this.$target.val(t),this.$target.removeAttr("aria-invalid"),this.$target.parents(".form-group").removeClass("has-error"),this.$target.trigger("change"),this.options.onUpdate&&this.options.onUpdate(t)},o.prototype.updateLinked=function(t){var e,a,i;null!==this.options.previous&&""!==this.options.previous.val()&&(e=this.options.previous.datepicker("getDate"),this.options.allowSameDate?t<e&&(a=this.formatDate(t,this.options.previous.datepicker("outputFormat")),this.options.previous.val(a)):t<=e&&(a=this.formatDate(new Date(t.getTime()-864e5),this.options.previous.datepicker("outputFormat")),this.options.previous.val(a))),null!==this.options.next&&""!==this.options.next.val()&&(a=this.options.next.datepicker("getDate"),this.options.allowSameDate?a<t&&(i=this.formatDate(t,this.options.next.datepicker("outputFormat")),this.options.next.val(i)):a<=t&&(i=this.formatDate(new Date(t.getTime()+864e5),this.options.next.datepicker("outputFormat")),this.options.next.val(i))),null!==this.options.next&&(this.options.allowSameDate?this.options.next.datepicker("min",t):this.options.next.datepicker("min",new Date(t.getTime()+864e5)))},o.prototype.hideObject=function(t){t.attr("aria-hidden",!0),t.hide()},o.prototype.showObject=function(t){t.attr("aria-hidden",!1),t.show()},o.prototype.show=function(){var a=this;m(".datepicker-calendar").trigger("ab.datepicker.opening",[a.id]),1==this.options.modal?(this.modalEventHandler||(this.modalEventHandler=function(t){return a.$grid.focus(),t.stopPropagation,!1}),m(document).on("click mousedown mouseup",this.modalEventHandler),this.greyOut(!0),n=parseInt(m("#datepicker-overlay").css("z-index"),10)||40,this.$calendar.css("z-index",n+1)):(m(document).on("click",m.proxy(this.handleDocumentClick,this)),this.$calendar.on("ab.datepicker.opening",function(t,e){e!=a.id?a.hide():a.$grid.focus()})),this.$calendar.on("ab.datepicker.opened",function(t,e){e==a.id&&a.$grid.focus()});var t=Math.max(0,Math.floor(this.$group[0].offsetTop)),e=Math.max(0,Math.floor(this.$group[0].offsetLeft+this.$target[0].offsetLeft)),i=this.$calendar.outerHeight(),s=this.$group.offset().top,r=this.$group.outerHeight(!0),n=Math.floor(s-m(window).scrollTop()),s=Math.floor(m(window).height()-(s+r-m(window).scrollTop()));s<i&&s<n?(this.$calendar.addClass("above"),this.$calendar.css({top:t-i+"px",left:e+"px"})):(this.$calendar.addClass("below"),this.$calendar.css({top:t+r+"px",left:e+"px"})),this.$calendar.attr("aria-hidden","false"),this.$calendar.fadeIn(),m(".datepicker-calendar").trigger("ab.datepicker.opened",[a.id])},o.prototype.refresh=function(){switch(this.drawCalendarHeader(),this.gridType){case 0:this.populateDaysCalendar();break;case 1:this.populateMonthsCalendar();break;case 2:this.populateYearsCalendar()}},o.prototype.handleDocumentClick=function(t){return 0==m(t.target).parents("#datepicker-calendar-"+this.id).length?(this.hide(),!0):(this.$grid.focus(),t.stopPropagation,!1)},o.prototype.hide=function(t){0==this.options.inline&&(1==this.options.modal?(this.modalEventHandler&&m(document).off("click mousedown mouseup",this.modalEventHandler),this.greyOut(!1)):(m(document).off("click",this.handleDocumentClick),this.$calendar.off("ab.datepicker.opening")),this.$calendar.removeClass("above below"),this.$calendar.attr("aria-hidden","true"),this.$calendar.fadeOut(),m(".datepicker-calendar").trigger("ab.datepicker.closed",[this.id]),t||this.$target.trigger("focus"))},o.prototype.greyOut=function(t){var e=m("#datepicker-overlay");0==e.length&&t&&(m("body").append('<div id="datepicker-overlay" class="datepicker-overlay"></div>'),e=m("#datepicker-overlay")),t?e.fadeIn(500):e.fadeOut(500)},o.prototype.getDaysInMonth=function(t,e){return 32-new Date(t,e,32).getDate()},o.prototype.previousMonth=function(t,e){return 0==e?(e=11,t--):e--,{year:t,month:e}},o.prototype.nextMonth=function(t,e){return 11==e?(e=0,t++):e++,{year:t,month:e}},o.prototype.formatDate=function(t,e){function a(t){return(t<0||9<t?"":"0")+t}function i(t){var e=new Date(t.getTime());return e.setHours(0),t-e}var s,r,n,o,l,h=t.getFullYear()+"",d=t.getMonth()+1,c=t.getDate(),p=(s=t,r=new Date(s.getFullYear(),0,0),Math.floor((s-r)/864e5)),u=t.getDay(),b=t.getHours(),y=t.getMinutes(),f=t.getSeconds(),g=(n=t,o=new Date(n.getFullYear(),0,1),Math.ceil(((n-o)/864e5+o.getDay()+1)/7)),m=(l=t,Math.ceil((l.getDate()-1-l.getDay())/7)),v=Math.floor(t.getDate()/7)+1,k=Math.ceil((t.getMonth()+1)/3),$=t.getFullYear()<1?0:1,D={y:""+h,yyyy:h,yy:h.substring(2,4),L:d,LL:a(d),LLL:this.locales.month_names_abbreviated[d-1],LLLL:this.locales.month_names[d-1],LLLLL:this.locales.month_names_narrow[d-1],M:d,MM:a(d),MMM:this.locales.month_names_abbreviated[d-1],MMMM:this.locales.month_names[d-1],MMMMM:this.locales.month_names_narrow[d-1],d:c,dd:a(c),D:p,DD:p,DDD:p,A:Math.round(i(t)*Math.pow(10,-2)),AA:Math.round(i(t)*Math.pow(10,-1)),AAA:Math.round(i(t)*Math.pow(10,0)),AAAA:Math.round(i(t)*Math.pow(10,1)),AAAAA:Math.round(i(t)*Math.pow(10,2)),AAAAAA:Math.round(i(t)*Math.pow(10,3)),E:this.locales.day_names_abbreviated[u],EE:this.locales.day_names_abbreviated[u],EEE:this.locales.day_names_abbreviated[u],EEEE:this.locales.day_names[u],EEEEE:this.locales.day_names_narrow[u],EEEEEE:this.locales.day_names_short[u],e:u,ee:u,eee:this.locales.day_names_abbreviated[u],eeee:this.locales.day_names[u],eeeee:this.locales.day_names_narrow[u],eeeeee:this.locales.day_names_short[u],c:u,cc:u,ccc:this.locales.day_names_abbreviated[u],cccc:this.locales.day_names[u],ccccc:this.locales.day_names_narrow[u],cccccc:this.locales.day_names_short[u],F:v,G:this.locales.era_names_abbreviated[$],GG:this.locales.era_names_abbreviated[$],GGG:this.locales.era_names_abbreviated[$],GGGG:this.locales.era_names[$],GGGGG:this.locales.era_names_narrow[$],Q:k,QQ:a(k),QQQ:this.locales.quarter_names_abbreviated[k-1],QQQQ:this.locales.quarter_names[k-1],QQQQQ:this.locales.quarter_names_narrow[k-1],q:k,qq:a(k),qqq:this.locales.quarter_names_abbreviated[k-1],qqqq:this.locales.quarter_names[k-1],qqqqq:this.locales.quarter_names_narrow[k-1],H:b,HH:a(b),h:0==b?12:12<b?b-12:b,hh:a(0==b?12:12<b?b-12:b),K:11<b?b-12:b,k:b+1,KK:a(11<b?b-12:b),kk:a(b+1),a:11<b?this.locales.day_periods.pm:this.locales.day_periods.am,m:y,mm:a(y),s:f,ss:a(f),w:g,ww:a(g),W:m};return e.replace(/('[^']+'|y{1,4}|L{1,5}|M{1,5}|c{1,6}|d{1,2}|D{1,3}|E{1,6}|e{1,6}|F{1,1}|G{1,5}|Q{1,5}|q{1,5}|H{1,2}|h{1,2}|K{1,2}|k{1,2}|m{1,2}|s{1,2}|w{1,2}|W{1,1}|A{1,6})/g,function(t){return"'"===t.charAt(0)?t.substr(1,t.length-2):D[t]||t})},o.prototype.createDateFromFormat=function(t,n){n instanceof Object&&(n=n.toDateString());function o(t,e,a,i){t instanceof Object&&(t=t.toDateString());for(var s=i;a<=s;s--){var r=t.substring(e,e+s);if(r.length<a)return null;if(/^\d+$/.test(r))return r}return null}function l(t,e){for(var a=0;a<t.length;a++){var i=t[a];if(n.substring(e,e+i.length).toLowerCase()==i.toLowerCase())return i.length}return 0}var h=0,e=new Date,d=e.getYear(),c=e.getMonth()+1,p=1,u=0,b=0,y=0,f="",g=this;if(m.each(t.match(/(.).*?\1*/g),function(t,e){switch(e){case"yyyy":null!=(d=o(n,h,4,4))&&(h+=d.length);break;case"yy":null!=(d=o(n,h,2,2))&&(h+=d.length);break;case"y":null!=(d=o(n,h,2,4))&&(h+=d.length);break;case"MMM":case"LLL":for(var a=c=0;a<g.locales.month_names_abbreviated.length;a++){var i=g.locales.month_names_abbreviated[a];if(n.substring(h,h+i.length).toLowerCase()==i.toLowerCase()){c=a+1,h+=i.length;break}}break;case"MMMM":case"LLLL":for(a=c=0;a<g.locales.month_names.length;a++){i=g.locales.month_names[a];if(n.substring(h,h+i.length).toLowerCase()==i.toLowerCase()){c=a+1,h+=i.length;break}}break;case"EEE":case"EE":case"E":case"eee":h+=l(g.locales.day_names_abbreviated,h);break;case"EEEE":case"eeee":case"cccc":h+=l(g.locales.day_names,h);break;case"EEEEEE":case"eeeeee":case"cccccc":h+=l(g.locales.day_names_short,h);break;case"MM":case"M":case"LL":case"L":if(null==(c=o(n,h,e.length,2))||c<1||12<c)return null;h+=c.length;break;case"dd":case"d":if(null==(p=o(n,h,e.length,2))||p<1||31<p)return null;h+=p.length;break;case"hh":case"h":if(null==(u=o(n,h,e.length,2))||u<1||12<u)return null;h+=u.length;break;case"HH":case"H":if(null==(u=o(n,h,e.length,2))||u<0||23<u)return null;h+=u.length;break;case"KK":case"K":if(null==(u=o(n,h,e.length,2))||u<0||11<u)return null;h+=u.length;break;case"kk":case"k":if(null==(u=o(n,h,e.length,2))||u<1||24<u)return null;h+=u.length,u--;break;case"mm":case"m":if(null==(b=o(n,h,e.length,2))||b<0||59<b)return null;h+=b.length;break;case"ss":case"s":if(null==(y=o(n,h,e.length,2))||y<0||59<y)return null;h+=y.length;break;case"a":var s=g.locales.day_periods.am.length,r=g.locales.day_periods.pm.length;if(n.substring(h,h+s)==g.locales.day_periods.am)f="AM",h+=s;else{if(n.substring(h,h+r)!=g.locales.day_periods.pm)return null;f="PM",h+=r}break;default:if(n.substring(h,h+e.length)!=e)return null;h+=e.length}}),h!=n.length)return null;if(null==d)return null;if(2==d.length&&(d=50<d?+d+1900:+d+2e3),c<1||12<c)return null;if(2==c)if(d%4==0&&d%100!=0||d%400==0){if(29<p)return null}else if(28<p)return null;return(4==c||6==c||9==c||11==c)&&30<p?null:(u<12&&"PM"==f?u=+u+12:11<u&&"AM"==f&&(u-=12),new Date(d,c-1,p,u,b,y))},o.prototype.parseDate=function(a){var i=null,s=this;return m.each(this.options.inputFormat,function(t,e){if(null!=(i=s.createDateFromFormat(e,a)))return!1}),i=null==i?s.createDateFromFormat(this.options.outputFormat,a):i},o.prototype.min=function(t){return null!=t&&(this.options.min=t instanceof Date?t:this.parseDate(t),null!=this.options.min&&this.dateObj<this.options.min&&(this.$target.attr("aria-invalid",!0),this.$target.parents(".form-group").addClass("has-error"),this.dateObj=this.options.min),0!=this.options.inline&&this.refresh()),this.options.min},o.prototype.max=function(t){return null!=t&&(this.options.max=t instanceof Date?t:this.parseDate(t),null!=this.options.max&&this.dateObj>this.options.max&&(this.$target.attr("aria-invalid",!0),this.$target.parents(".form-group").addClass("has-error"),this.dateObj=this.options.max),0!=this.options.inline&&this.refresh()),this.options.max},o.prototype.next=function(t){return null!=t&&("string"==typeof t?this.options.next=m(t):this.options.next instanceof jQuery&&(this.options.next=t)),this.options.next},o.prototype.previous=function(t){return null!=t&&("string"==typeof t?this.options.previous=m(t):this.options.previous instanceof jQuery&&(this.options.previous=t)),this.options.previous},o.prototype.theme=function(t){return null!=t&&(this.$button.removeClass(this.options.theme),this.$calendar.removeClass(this.options.theme),this.options.theme=t,this.$button.addClass(this.options.theme),this.$calendar.addClass(this.options.theme)),this.options.theme},o.prototype.firstDayOfWeek=function(t){return null!=t&&(this.options.firstDayOfWeek=parseInt(t,10),0==this.options.inline?this.drawCalendarHeader():this.refresh()),this.options.firstDayOfWeek},o.prototype.daysOfWeekDisabled=function(t){var a;return null!=t&&(this.options.daysOfWeekDisabled=[],Array.isArray(t)||(t=[t]),a=this,m.each(t,function(t,e){"number"==typeof e?a.options.daysOfWeekDisabled.push(e):"string"==typeof e&&a.options.daysOfWeekDisabled.push(parseInt(e,10))})),this.options.daysOfWeekDisabled},o.prototype.weekDayFormat=function(t){return null!=t&&(this.options.weekDayFormat=t,this.drawCalendarHeader()),this.options.weekDayFormat},o.prototype.inputFormat=function(t){return null!=t&&(Array.isArray(t)||(t=[t]),this.$target.attr("placeholder")==this.options.inputFormat[0]&&this.$target.attr("placeholder",t[0]),this.options.inputFormat=t),this.options.inputFormat},o.prototype.outputFormat=function(t){return null!=t&&(this.options.outputFormat=t),this.options.outputFormat},o.prototype.modal=function(t){var e;return null!=t&&(this.options.modal=t,1==this.options.modal?(0==this.options.inline&&(this.showObject(this.$calendar.find(".datepicker-close-wrap")),this.showObject(this.$calendar.find(".datepicker-bn-close-label"))),this.$close=this.$calendar.find(".datepicker-close"),this.$close.html(this.options.closeButtonTitle).attr("title",this.options.closeButtonLabel),this.$calendar.find(".datepicker-bn-close-label").html(this.options.closeButtonLabel),(e=this).$close.on("click",function(t){return e.handleCloseClick(t)}),this.$close.on("keydown",function(t){return e.handleCloseKeyDown(t)})):(this.hideObject(this.$calendar.find(".datepicker-close-wrap")),this.hideObject(this.$calendar.find(".datepicker-bn-close-label")))),this.options.modal},o.prototype.inline=function(t){return null!=t&&(0!=t?(this.hideObject(this.$button),this.hideObject(this.$calendar.find(".datepicker-close-wrap")),this.hideObject(this.$calendar.find(".datepicker-bn-close-label")),("string"==typeof t?m("#"+t):t).append(this.$calendar),this.$calendar.css({position:"relative",left:"0px",top:"0px"}),this.options.inline=t,this.initializeDate(),this.showObject(this.$calendar)):(this.$target.parent().after(this.$calendar),this.showObject(this.$button),1==this.options.modal&&(this.showObject(this.$calendar.find(".datepicker-close-wrap")),this.showObject(this.$calendar.find(".datepicker-bn-close-label"))),"static"===this.$calendar.parent().css("position")&&this.$calendar.parent().css("position","relative"),this.$calendar.css({position:"absolute"}),this.options.inline=t,this.hide())),this.options.inline},o.prototype.format=function(t){return this.formatDate(t,this.options.outputFormat)},o.prototype.enable=function(){this.$button.removeClass("disabled"),this.$button.attr("aria-disabled",!1),this.$button.attr("tabindex",0)},o.prototype.disable=function(){this.hide(),this.$button.addClass("disabled"),this.$button.attr("aria-disabled",!0),this.$button.attr("tabindex",-1)},o.prototype.datesDisabled=function(t){this.options.datesDisabled=[],Array.isArray(t)||(t=[t]);var i=this;m.each(t,function(t,e){var a;"string"==typeof e?null!==(a=i.parseDate(e))&&i.options.datesDisabled.push(i.format(a)):e instanceof Date&&!isNaN(e.valueOf())&&i.options.datesDisabled.push(i.format(e))})},o.prototype.startview=function(t){switch(t){case 1:case"months":this.options.startView=1;break;case 2:case"years":this.options.startView=2;break;default:this.options.startView=0}},o.prototype.setLocales=function(t){this.locales=t,this.options.inputFormat=[this.locales.short_format],this.options.outputFormat=this.locales.short_format,this.options.titleFormat=this.locales.full_format,this.options.firstDayOfWeek=this.locales.firstday_of_week,this.options.buttonTitle=this.locales.texts.buttonTitle,this.$button.find("span").attr("title",this.options.buttonTitle),this.options.buttonLabel=this.locales.texts.buttonLabel,this.options.prevButtonLabel=this.locales.texts.prevButtonLabel,this.options.prevMonthButtonLabel=this.locales.texts.prevMonthButtonLabel,this.options.prevYearButtonLabel=this.locales.texts.prevYearButtonLabel,this.options.nextButtonLabel=this.locales.texts.nextButtonLabel,this.options.nextMonthButtonLabel=this.locales.texts.nextMonthButtonLabel,this.options.nextYearButtonLabel=this.locales.texts.nextYearButtonLabel,this.options.changeMonthButtonLabel=this.locales.texts.changeMonthButtonLabel,this.options.changeYearButtonLabel=this.locales.texts.changeYearButtonLabel,this.options.changeRangeButtonLabel=this.locales.texts.changeRangeButtonLabel,this.options.closeButtonTitle=this.locales.texts.closeButtonTitle,this.options.closeButtonLabel=this.locales.texts.closeButtonLabel,this.options.calendarHelp=this.locales.texts.calendarHelp,this.drawCalendarHeader(),"RTL"===this.locales.directionality?this.$grid.addClass("rtl"):this.$grid.removeClass("rtl")};var t=m.fn.datepicker;m.fn.datepicker=function(i,s){if("string"!=typeof i||1!=m(this).length)return this.each(function(){var t=m(this),e=t.data("ab.datepicker"),a=m.extend({},o.DEFAULTS,t.data(),"object"==typeof i&&i);e||t.data("ab.datepicker",e=new o(this,a)),"string"==typeof i&&e[i](s)});var t=m(this).eq(0).data("ab.datepicker");if(t)return t[i](s);var e=m(this);setTimeout(function(){var t=e.eq(0).data("ab.datepicker");if(t)return t[i](s)},0)},m.fn.datepicker.Constructor=o,m.fn.datepicker.noConflict=function(){return m.fn.datepicker=t,this}});